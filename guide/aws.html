<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AWS éƒ¨ç½² | HaloLight</title>
    
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/halolight/assets/style.C9vAp3uX.css" as="style">
    <link rel="preload stylesheet" href="/halolight/vp-icons.css" as="style">
    
    <script type="module" src="/halolight/assets/app.BdpRQqxF.js"></script>
    <link rel="preload" href="/halolight/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/halolight/assets/chunks/theme.UrnYZ8Qw.js">
    <link rel="modulepreload" href="/halolight/assets/chunks/framework.BuRUkFgc.js">
    <link rel="modulepreload" href="/halolight/assets/guide_aws.md.D-1_IDc1.lean.js">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5b8def">
    <meta name="author" content="HaloLight Team">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="generator" content="VitePress">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="HaloLight">
    <meta property="og:title" content="HaloLight">
    <meta property="og:url" content="https://halolight.docs.h7ml.cn">
    <meta property="og:image" content="https://halolight.docs.h7ml.cn/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="HaloLight - Multi-Framework Admin Dashboard">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@halolight">
    <meta name="twitter:creator" content="@h7ml">
    <meta name="twitter:title" content="HaloLight">
    <meta name="twitter:image" content="https://halolight.docs.h7ml.cn/og-image.png">
    <meta name="theme-color" content="#5b8def" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="msapplication-TileColor" content="#5b8def">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="application-name" content="HaloLight">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HaloLight">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="alternate" type="application/rss+xml" title="HaloLight RSS Feed" href="/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="HaloLight Atom Feed" href="/atom.xml">
    <link rel="canonical" href="https://halolight.docs.h7ml.cn">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"HaloLight","url":"https://halolight.docs.h7ml.cn","description":"HaloLight Multi-Framework Admin Dashboard Documentation - One design specification, multiple framework implementations for enterprise-level solutions, supporting 12+ frameworks","author":{"@type":"Organization","name":"HaloLight Team","url":"https://github.com/halolight"},"potentialAction":{"@type":"SearchAction","target":"https://halolight.docs.h7ml.cn/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js?id=L1NaKSoU1jvMh9mE&amp;ck=L1NaKSoU1jvMh9mE&amp;autoTrack=true&amp;hashMode=true&amp;screenRecord=true"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XMS590XWNN"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XMS590XWNN");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="keywords" content="HaloLight,Admin,Dashboard,ç®¡ç†åå°,Next.js,Vue,React,Angular,TypeScript,Tailwind CSS,shadcn/ui,ä¼ä¸šçº§,å¤šæ¡†æ¶">
    <meta name="description" content="HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶">
    <meta property="og:description" content="HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶">
    <meta property="og:locale" content="zh_CN">
    <meta name="twitter:description" content="HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶">
    <link rel="manifest" href="/halolight/manifest.webmanifest">
    <script id="vite-plugin-pwa:register-sw" src="/halolight/registerSW.js"></script>
    <script>import("/halolight/pagefind/pagefind.js").then(i=>{window.__pagefind__=i,i.init()}).catch(()=>{});</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a48e04b9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-6b359ff7></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-6b359ff7>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a48e04b9 data-v-0152722e><div class="VPNavBar" data-v-0152722e data-v-aa611f10><div class="wrapper" data-v-aa611f10><div class="container" data-v-aa611f10><div class="title" data-v-aa611f10><div class="VPNavBarTitle has-sidebar" data-v-aa611f10 data-v-85da224a><a class="title" href="/halolight/" data-v-85da224a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/halolight/logo.svg" alt data-v-b5cfde7e><!--]--><span data-v-85da224a>HaloLight</span><!--[--><!--]--></a></div></div><div class="content" data-v-aa611f10><div class="content-body" data-v-aa611f10><!--[--><!--]--><div class="blog-search search" data-pagefind-ignore="all" data-v-aa611f10 data-v-93233ad6><div class="nav-search-btn-wait" data-v-93233ad6><span data-v-93233ad6><svg width="14" height="14" viewBox="0 0 20 20" data-v-93233ad6><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" data-v-93233ad6></path></svg></span><span class="search-tip" data-v-93233ad6>æœç´¢æ–‡æ¡£</span><span class="metaKey" data-v-93233ad6> K </span></div><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-aa611f10 data-v-e5425b48><span id="main-nav-aria-label" class="visually-hidden" data-v-e5425b48> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/halolight/" tabindex="0" data-v-e5425b48 data-v-bb37e875><!--[--><span data-v-bb37e875>é¦–é¡µ</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/halolight/guide/" tabindex="0" data-v-e5425b48 data-v-bb37e875><!--[--><span data-v-bb37e875>æŒ‡å—</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/halolight/development/" tabindex="0" data-v-e5425b48 data-v-bb37e875><!--[--><span data-v-bb37e875>å¼€å‘</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e5425b48 data-v-86e7af16><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86e7af16><span class="text" data-v-86e7af16><!----><span data-v-86e7af16>é¢„è§ˆ</span><span class="vpi-chevron-down text-icon" data-v-86e7af16></span></span></button><div class="menu" data-v-86e7af16><div class="VPMenu" data-v-86e7af16 data-v-37a1ef66><div class="items" data-v-37a1ef66><!--[--><!--[--><div class="VPMenuGroup" data-v-37a1ef66 data-v-89907bed><p class="title" data-v-89907bed>æ¡†æ¶ç‰ˆæœ¬</p><!--[--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸŸ¦ Next.js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-react.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>âš›ï¸ React</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-vue.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ’š Vue</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-angular.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ”º Angular</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-nuxt.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸŒ¿ Nuxt</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-svelte.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ§¡ SvelteKit</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-astro.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸª Astro</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-solid.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ’  Solid.js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-qwik.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>âš¡ Qwik</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-remix.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ¸ Remix</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-preact.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸª¶ Preact</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-lit.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ”¥ Lit</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-fresh.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ¦– Fresh (Deno)</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-37a1ef66 data-v-89907bed><p class="title" data-v-89907bed>éƒ¨ç½²ç‰ˆæœ¬</p><!--[--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-cloudflare.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>â˜ï¸ Cloudflare</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-vercel.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>â–² Vercel</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-netlify.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ”· Netlify</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-railway.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸš‚ Railway</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-fly.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>âœˆï¸ Fly.io</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-azure.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>â˜ï¸ Azure</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-aws.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸŸ  AWS</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-37a1ef66 data-v-89907bed><p class="title" data-v-89907bed>åç«¯æœåŠ¡</p><!--[--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-deno.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ¦• Deno API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-api-go.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ¹ Go API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-api-node.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸŸ© Node.js API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-api-nestjs.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ—ï¸ NestJS API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-api-java.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>â˜• Java API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89907bed data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://halolight-admin.h7ml.cn/" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ› ï¸ Admin</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e5425b48 data-v-86e7af16><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86e7af16><span class="text" data-v-86e7af16><!----><span data-v-86e7af16>GitHub</span><span class="vpi-chevron-down text-icon" data-v-86e7af16></span></span></button><div class="menu" data-v-86e7af16><div class="VPMenu" data-v-86e7af16 data-v-37a1ef66><div class="items" data-v-37a1ef66><!--[--><!--[--><div class="VPMenuLink" data-v-37a1ef66 data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://github.com/halolight" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ  ç»„ç»‡ä¸»é¡µ</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-37a1ef66 data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://github.com/halolight/docs" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ“š æ–‡æ¡£ä»“åº“</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-37a1ef66 data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://github.com/halolight/halolight" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸŸ¦ Next.js ä»“åº“</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-37a1ef66 data-v-0d7fa9e3><a class="VPLink link vp-external-link-icon" href="https://github.com/halolight/halolight-vue" target="_blank" rel="noreferrer" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>ğŸ’š Vue ä»“åº“</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-aa611f10 data-v-1f0910e8 data-v-86e7af16><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-86e7af16><span class="text" data-v-86e7af16><span class="vpi-languages option-icon" data-v-86e7af16></span><!----><span class="vpi-chevron-down text-icon" data-v-86e7af16></span></span></button><div class="menu" data-v-86e7af16><div class="VPMenu" data-v-86e7af16 data-v-37a1ef66><!----><!--[--><!--[--><div class="items" data-v-1f0910e8><p class="title" data-v-1f0910e8>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-1f0910e8 data-v-0d7fa9e3><a class="VPLink link" href="/halolight/en/guide/aws" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-aa611f10 data-v-9f1b4694><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-9f1b4694 data-v-6ee3cb12 data-v-b0aa3e75><span class="check" data-v-b0aa3e75><span class="icon" data-v-b0aa3e75><!--[--><span class="vpi-sun sun" data-v-6ee3cb12></span><span class="vpi-moon moon" data-v-6ee3cb12></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-aa611f10 data-v-785e99d6 data-v-4daff219><!--[--><a class="VPSocialLink no-icon" href="https://halolight.docs.h7ml.cn/halolight/feed.xml" aria-label="RSS" target="_blank" rel="noopener" data-v-4daff219 data-v-a761ffe6><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448 512"><title>RSS</title><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z" fill="currentColor"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/halolight" aria-label="github" target="_blank" rel="noopener" data-v-4daff219 data-v-a761ffe6><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-aa611f10 data-v-8f5594df data-v-86e7af16><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86e7af16><span class="vpi-more-horizontal icon" data-v-86e7af16></span></button><div class="menu" data-v-86e7af16><div class="VPMenu" data-v-86e7af16 data-v-37a1ef66><!----><!--[--><!--[--><div class="group translations" data-v-8f5594df><p class="trans-title" data-v-8f5594df>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-8f5594df data-v-0d7fa9e3><a class="VPLink link" href="/halolight/en/guide/aws" data-v-0d7fa9e3><!--[--><span data-v-0d7fa9e3>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-8f5594df><div class="item appearance" data-v-8f5594df><p class="label" data-v-8f5594df>ä¸»é¢˜</p><div class="appearance-action" data-v-8f5594df><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-8f5594df data-v-6ee3cb12 data-v-b0aa3e75><span class="check" data-v-b0aa3e75><span class="icon" data-v-b0aa3e75><!--[--><span class="vpi-sun sun" data-v-6ee3cb12></span><span class="vpi-moon moon" data-v-6ee3cb12></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8f5594df><div class="item social-links" data-v-8f5594df><div class="VPSocialLinks social-links-list" data-v-8f5594df data-v-4daff219><!--[--><a class="VPSocialLink no-icon" href="https://halolight.docs.h7ml.cn/halolight/feed.xml" aria-label="RSS" target="_blank" rel="noopener" data-v-4daff219 data-v-a761ffe6><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448 512"><title>RSS</title><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z" fill="currentColor"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/halolight" aria-label="github" target="_blank" rel="noopener" data-v-4daff219 data-v-a761ffe6><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-aa611f10 data-v-b08ab7bc><span class="container" data-v-b08ab7bc><span class="top" data-v-b08ab7bc></span><span class="middle" data-v-b08ab7bc></span><span class="bottom" data-v-b08ab7bc></span></span></button></div></div></div></div><div class="divider" data-v-aa611f10><div class="divider-line" data-v-aa611f10></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a48e04b9 data-v-aa10b55b><div class="container" data-v-aa10b55b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aa10b55b><span class="vpi-align-left menu-icon" data-v-aa10b55b></span><span class="menu-text" data-v-aa10b55b>èœå•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-aa10b55b data-v-17b6ccce><button data-v-17b6ccce>è¿”å›é¡¶éƒ¨</button><!----></div></div></div><aside class="VPSidebar" data-v-a48e04b9 data-v-20a290d7><div class="curtain" data-v-20a290d7></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-20a290d7><span class="visually-hidden" id="sidebar-aria-label" data-v-20a290d7> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1b65e063><section class="VPSidebarItem level-0 collapsible" data-v-1b65e063 data-v-abff698a><div class="item" role="button" tabindex="0" data-v-abff698a><div class="indicator" data-v-abff698a></div><h2 class="text" data-v-abff698a>å…¥é—¨</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-abff698a><span class="vpi-chevron-right caret-icon" data-v-abff698a></span></div></div><div class="items" data-v-abff698a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ“– ç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/getting-started" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸš€ å¿«é€Ÿå¼€å§‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/combinations" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”€ æ¶æ„ç»„åˆæŒ‡å—</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-1b65e063><section class="VPSidebarItem level-0 collapsible collapsed" data-v-1b65e063 data-v-abff698a><div class="item" role="button" tabindex="0" data-v-abff698a><div class="indicator" data-v-abff698a></div><h2 class="text" data-v-abff698a>æ¡†æ¶ç‰ˆæœ¬</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-abff698a><span class="vpi-chevron-right caret-icon" data-v-abff698a></span></div></div><div class="items" data-v-abff698a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/nextjs" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸŸ¦ Next.js</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/react" data-v-abff698a><!--[--><p class="text" data-v-abff698a>âš›ï¸ React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/vue" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ’š Vue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/angular" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”º Angular</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/nuxt" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸŒ¿ Nuxt</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/sveltekit" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ§¡ SvelteKit</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/astro" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸª Astro</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/solidjs" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ’  Solid.js</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/qwik" data-v-abff698a><!--[--><p class="text" data-v-abff698a>âš¡ Qwik</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/remix" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¸ Remix</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/preact" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸª¶ Preact</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/lit" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”¥ Lit</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/fresh" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¦– Fresh (Deno)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-1b65e063><section class="VPSidebarItem level-0 collapsible collapsed" data-v-1b65e063 data-v-abff698a><div class="item" role="button" tabindex="0" data-v-abff698a><div class="indicator" data-v-abff698a></div><h2 class="text" data-v-abff698a>åç«¯æœåŠ¡</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-abff698a><span class="vpi-chevron-right caret-icon" data-v-abff698a></span></div></div><div class="items" data-v-abff698a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/deno" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¦• Deno + Hono</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-go" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¹ Go API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-node" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸŸ© Node.js API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-nestjs" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ—ï¸ NestJS API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-python" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ Python FastAPI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-java" data-v-abff698a><!--[--><p class="text" data-v-abff698a>â˜• Java Spring Boot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-bun" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ Bun + Hono</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/api-php" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ˜ PHP Laravel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/bff" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”— tRPC BFF</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/admin" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ› ï¸ è¶…çº§ç®¡ç†é¢æ¿</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-1b65e063><section class="VPSidebarItem level-0 collapsible collapsed" data-v-1b65e063 data-v-abff698a><div class="item" role="button" tabindex="0" data-v-abff698a><div class="indicator" data-v-abff698a></div><h2 class="text" data-v-abff698a>æ‰©å±•åŠŸèƒ½</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-abff698a><span class="vpi-chevron-right caret-icon" data-v-abff698a></span></div></div><div class="items" data-v-abff698a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/ai" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¤– AI æ™ºèƒ½åŠ©ç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/ui" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ¨ Web Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/web3" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”— Web3 é’±åŒ…é›†æˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/action" data-v-abff698a><!--[--><p class="text" data-v-abff698a>â° ç­¾åˆ°å®šæ—¶ä»»åŠ¡</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-1b65e063><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-1b65e063 data-v-abff698a><div class="item" role="button" tabindex="0" data-v-abff698a><div class="indicator" data-v-abff698a></div><h2 class="text" data-v-abff698a>éƒ¨ç½²æ–¹æ¡ˆ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-abff698a><span class="vpi-chevron-right caret-icon" data-v-abff698a></span></div></div><div class="items" data-v-abff698a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/cloudflare" data-v-abff698a><!--[--><p class="text" data-v-abff698a>â˜ï¸ Cloudflare</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/vercel" data-v-abff698a><!--[--><p class="text" data-v-abff698a>â–² Vercel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/netlify" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ”· Netlify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/docker" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸ³ Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/railway" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸš‚ Railway</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/fly" data-v-abff698a><!--[--><p class="text" data-v-abff698a>âœˆï¸ Fly.io</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/azure" data-v-abff698a><!--[--><p class="text" data-v-abff698a>â˜ï¸ Azure</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abff698a data-v-abff698a><div class="item" data-v-abff698a><div class="indicator" data-v-abff698a></div><a class="VPLink link link" href="/halolight/guide/aws" data-v-abff698a><!--[--><p class="text" data-v-abff698a>ğŸŸ  AWS</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a48e04b9 data-v-24733f46><div class="VPDoc has-sidebar has-aside" data-v-24733f46 data-v-3cae9173><!--[--><!--]--><div class="container" data-v-3cae9173><div class="aside" data-v-3cae9173><div class="aside-curtain" data-v-3cae9173></div><div class="aside-container" data-v-3cae9173><div class="aside-content" data-v-3cae9173><div class="VPDocAside" data-v-3cae9173 data-v-6b79c47e><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6b79c47e data-v-8e34bf1b><div class="content" data-v-8e34bf1b><div class="outline-marker" data-v-8e34bf1b></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-8e34bf1b>é¡µé¢å¯¼èˆª</div><ul class="VPDocOutlineItem root" data-v-8e34bf1b data-v-6239f03f><!--[--><!--]--></ul></div></nav><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="spacer" data-v-6b79c47e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3cae9173><div class="content-container" data-v-3cae9173><!--[--><!--]--><main class="main" data-v-3cae9173><div style="position:relative;" class="vp-doc _halolight_guide_aws" data-v-3cae9173><div data-pagefind-body="true" data-pagefind-meta="date:1765973614000"><h1 id="aws-éƒ¨ç½²" tabindex="-1">AWS éƒ¨ç½² <a class="header-anchor" href="#aws-éƒ¨ç½²" aria-label="Permalink to &quot;AWS éƒ¨ç½²&quot;">â€‹</a></h1><p>HaloLight AWS éƒ¨ç½²ç‰ˆæœ¬ï¼Œé¢å‘ä¼ä¸šçº§ AWS ç”Ÿæ€çš„éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒ Amplifyã€S3 + CloudFrontã€ECS ç­‰å¤šç§éƒ¨ç½²æ–¹å¼ã€‚</p><p><strong>åœ¨çº¿é¢„è§ˆ</strong>ï¼š<a href="https://halolight-aws.h7ml.cn" target="_blank" rel="noreferrer">https://halolight-aws.h7ml.cn</a></p><p><strong>GitHub</strong>ï¼š<a href="https://github.com/halolight/halolight-aws" target="_blank" rel="noreferrer">https://github.com/halolight/halolight-aws</a></p><h2 id="ç‰¹æ€§" tabindex="-1">ç‰¹æ€§ <a class="header-anchor" href="#ç‰¹æ€§" aria-label="Permalink to &quot;ç‰¹æ€§&quot;">â€‹</a></h2><ul><li>ğŸŸ  <strong>AWS Amplify</strong> - å…¨æ‰˜ç®¡çš„å‰ç«¯éƒ¨ç½²ï¼ŒGit é›†æˆ</li><li>ğŸ“¦ <strong>S3</strong> - é™æ€èµ„æºå­˜å‚¨ï¼Œæ— é™æ‰©å±•</li><li>ğŸŒ <strong>CloudFront</strong> - å…¨çƒ CDN åˆ†å‘ï¼Œä½å»¶è¿Ÿ</li><li>âš¡ <strong>Lambda@Edge</strong> - è¾¹ç¼˜è®¡ç®—ï¼ŒSSR æ”¯æŒ</li><li>ğŸ” <strong>IAM</strong> - ç»†ç²’åº¦èº«ä»½å’Œè®¿é—®ç®¡ç†</li><li>ğŸ“Š <strong>CloudWatch</strong> - ç›‘æ§ã€å‘Šè­¦å’Œæ—¥å¿—</li><li>ğŸ—„ï¸ <strong>RDS/DynamoDB</strong> - æ‰˜ç®¡æ•°æ®åº“æœåŠ¡</li><li>ğŸ”’ <strong>WAF</strong> - Web åº”ç”¨é˜²ç«å¢™</li></ul><h2 id="å¿«é€Ÿå¼€å§‹" tabindex="-1">å¿«é€Ÿå¼€å§‹ <a class="header-anchor" href="#å¿«é€Ÿå¼€å§‹" aria-label="Permalink to &quot;å¿«é€Ÿå¼€å§‹&quot;">â€‹</a></h2><h3 id="æ–¹å¼ä¸€-amplify-console-éƒ¨ç½²-æ¨è" tabindex="-1">æ–¹å¼ä¸€ï¼šAmplify Console éƒ¨ç½² (æ¨è) <a class="header-anchor" href="#æ–¹å¼ä¸€-amplify-console-éƒ¨ç½²-æ¨è" aria-label="Permalink to &quot;æ–¹å¼ä¸€ï¼šAmplify Console éƒ¨ç½² (æ¨è)&quot;">â€‹</a></h3><ol><li>ç™»å½• <a href="https://console.aws.amazon.com/amplify" target="_blank" rel="noreferrer">AWS Amplify Console</a></li><li>ç‚¹å‡» â€œHost web appâ€ â†’ â€œFrom GitHubâ€</li><li>æˆæƒå¹¶é€‰æ‹© <code>halolight/halolight-aws</code> ä»“åº“</li><li>é€‰æ‹© <code>main</code> åˆ†æ”¯</li><li>é…ç½®æ„å»ºè®¾ç½® (ä½¿ç”¨é»˜è®¤æˆ–è‡ªå®šä¹‰ <code>amplify.yml</code>)</li><li>é…ç½®ç¯å¢ƒå˜é‡</li><li>ç‚¹å‡» â€œSave and deployâ€</li></ol><h3 id="æ–¹å¼äºŒ-amplify-cli-éƒ¨ç½²" tabindex="-1">æ–¹å¼äºŒï¼šAmplify CLI éƒ¨ç½² <a class="header-anchor" href="#æ–¹å¼äºŒ-amplify-cli-éƒ¨ç½²" aria-label="Permalink to &quot;æ–¹å¼äºŒï¼šAmplify CLI éƒ¨ç½²&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£… Amplify CLI</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @aws-amplify/cli</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½® AWS å‡­è¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configure</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…‹éš†é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/halolight/halolight-aws.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halolight-aws</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆå§‹åŒ– Amplify é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ·»åŠ æ‰˜ç®¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hosting</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é€‰æ‹©: Hosting with Amplify Console</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é€‰æ‹©: Continuous deployment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‘å¸ƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="æ–¹å¼ä¸‰-s3-cloudfront-é™æ€éƒ¨ç½²" tabindex="-1">æ–¹å¼ä¸‰ï¼šS3 + CloudFront é™æ€éƒ¨ç½² <a class="header-anchor" href="#æ–¹å¼ä¸‰-s3-cloudfront-é™æ€éƒ¨ç½²" aria-label="Permalink to &quot;æ–¹å¼ä¸‰ï¼šS3 + CloudFront é™æ€éƒ¨ç½²&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£… AWS CLI</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awscli</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # macOS</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awscli</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½®å‡­è¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configure</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºé™æ€ç«™ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> export</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¦‚æœä½¿ç”¨é™æ€å¯¼å‡º</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º S3 å­˜å‚¨æ¡¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://halolight-static</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --region</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ap-northeast-1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½®é™æ€ç½‘ç«™æ‰˜ç®¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> website</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://halolight-static</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --index-document</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.html</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --error-document</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 404.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¸Šä¼ æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> out/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://halolight-static</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º CloudFront åˆ†å‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloudfront</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-distribution</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --origin-domain-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halolight-static.s3.ap-northeast-1.amazonaws.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --default-root-object</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="é…ç½®æ–‡ä»¶" tabindex="-1">é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;é…ç½®æ–‡ä»¶&quot;">â€‹</a></h2><h3 id="amplify-yml" tabindex="-1">amplify.yml <a class="header-anchor" href="#amplify-yml" aria-label="Permalink to &quot;amplify.yml&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">applications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">frontend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      phases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        preBuild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          commands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">corepack enable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">corepack prepare pnpm@latest --activate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install --frozen-lockfile</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          commands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        baseDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.next</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">node_modules/**/*</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.next/cache/**/*</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      buildPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    appRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="next-config-ts-amplify-ä¼˜åŒ–" tabindex="-1">next.config.ts (Amplify ä¼˜åŒ–) <a class="header-anchor" href="#next-config-ts-amplify-ä¼˜åŒ–" aria-label="Permalink to &quot;next.config.ts (Amplify ä¼˜åŒ–)&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { NextConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nextConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NextConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  output: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;standalone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  images: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    unoptimized: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AMPLIFY_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    remotePatterns: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        protocol: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        hostname: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**.amazonaws.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Amplify éœ€è¦çš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  experimental: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    serverActions: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      bodySizeLimit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2mb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nextConfig;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="ç¯å¢ƒå˜é‡" tabindex="-1">ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#ç¯å¢ƒå˜é‡" aria-label="Permalink to &quot;ç¯å¢ƒå˜é‡&quot;">â€‹</a></h2><p>åœ¨ Amplify Console â†’ App settings â†’ Environment variables è®¾ç½®ï¼š</p><table tabindex="0"><thead><tr><th>å˜é‡å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>NEXT_PUBLIC_API_URL</code></td><td>API åŸºç¡€ URL</td><td><code>/api</code></td></tr><tr><td><code>NEXT_PUBLIC_MOCK</code></td><td>å¯ç”¨ Mock æ•°æ®</td><td><code>false</code></td></tr><tr><td><code>NEXT_PUBLIC_APP_TITLE</code></td><td>åº”ç”¨æ ‡é¢˜</td><td><code>Admin Pro</code></td></tr><tr><td><code>AWS_REGION</code></td><td>AWS åŒºåŸŸ</td><td><code>ap-northeast-1</code></td></tr><tr><td><code>AMPLIFY_ENV</code></td><td>Amplify ç¯å¢ƒæ ‡è¯†</td><td><code>true</code></td></tr><tr><td><code>DATABASE_URL</code></td><td>RDS æ•°æ®åº“è¿æ¥</td><td><code>postgresql://...</code></td></tr><tr><td><code>DYNAMODB_TABLE</code></td><td>DynamoDB è¡¨å</td><td><code>halolight-users</code></td></tr></tbody></table><h3 id="è®¾ç½®æ–¹å¼" tabindex="-1">è®¾ç½®æ–¹å¼ <a class="header-anchor" href="#è®¾ç½®æ–¹å¼" aria-label="Permalink to &quot;è®¾ç½®æ–¹å¼&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Amplify CLI è®¾ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">env-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI è®¾ç½® (SSM Parameter Store)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put-parameter</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/halolight/production/DATABASE_URL&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;postgresql://...&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SecureString</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨ Amplify ä¸­å¼•ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># amplify.yml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  commands:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> export</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DATABASE_URL=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get-parameter</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/halolight/production/DATABASE_URL&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --with-decryption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Parameter.Value</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="lambda-edge-å‡½æ•°" tabindex="-1">Lambda@Edge å‡½æ•° <a class="header-anchor" href="#lambda-edge-å‡½æ•°" aria-label="Permalink to &quot;Lambda@Edge å‡½æ•°&quot;">â€‹</a></h2><h3 id="ssr-è¾¹ç¼˜æ¸²æŸ“" tabindex="-1">SSR è¾¹ç¼˜æ¸²æŸ“ <a class="header-anchor" href="#ssr-è¾¹ç¼˜æ¸²æŸ“" aria-label="Permalink to &quot;SSR è¾¹ç¼˜æ¸²æŸ“&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// edge-functions/ssr.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { CloudFrontRequestHandler } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;aws-lambda&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CloudFrontRequestHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event.Records[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].cf.request;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> uri</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.uri;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¤„ç† SSR è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shouldSSR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uri)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è°ƒç”¨ Lambda è¿›è¡Œ SSR</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> renderPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uri);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      statusDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OK&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;content-type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text/html; charset=utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;cache-control&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public, max-age=0, s-maxage=31536000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      body: response,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldSSR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uri</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®šä¹‰éœ€è¦ SSR çš„è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ssrRoutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ssrRoutes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uri.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(route));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="è®¤è¯è¾¹ç¼˜å‡½æ•°" tabindex="-1">è®¤è¯è¾¹ç¼˜å‡½æ•° <a class="header-anchor" href="#è®¤è¯è¾¹ç¼˜å‡½æ•°" aria-label="Permalink to &quot;è®¤è¯è¾¹ç¼˜å‡½æ•°&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// edge-functions/auth.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { CloudFrontRequestHandler } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;aws-lambda&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { verify } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonwebtoken&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CloudFrontRequestHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event.Records[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].cf.request;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.headers;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ£€æŸ¥ä¿æŠ¤è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isProtectedRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request.uri)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers.authorization?.[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.value;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cookieHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers.cookie?.[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.value;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä» header æˆ– cookie è·å– token</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extractToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(authHeader, cookieHeader);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;401&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        statusDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Unauthorized&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &quot;content-type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application/json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Unauthorized&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // éªŒè¯ JWT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token, process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JWT_SECRET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;401&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        statusDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Invalid Token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Invalid token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isProtectedRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uri</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> protectedPaths</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> protectedPaths.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uri.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extractToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">authHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cookieHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (authHeader?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bearer &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> authHeader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">substring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cookieHeader) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> match</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cookieHeader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">token=(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> match </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> match[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h3 id="åœ°ç†ä½ç½®é‡å®šå‘" tabindex="-1">åœ°ç†ä½ç½®é‡å®šå‘ <a class="header-anchor" href="#åœ°ç†ä½ç½®é‡å®šå‘" aria-label="Permalink to &quot;åœ°ç†ä½ç½®é‡å®šå‘&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// edge-functions/geo-redirect.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { CloudFrontRequestHandler } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;aws-lambda&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CloudFrontRequestHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event.Records[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].cf.request;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.headers;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è·å– CloudFront æ³¨å…¥çš„åœ°ç†ä½ç½®ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> country</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudfront-viewer-country&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.value;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> city</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudfront-viewer-city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.value;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŸºäºåœ°ç†ä½ç½®é‡å®šå‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (country </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;CN&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">request.uri.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/cn/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;302&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      statusDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      headers: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        location: [{ value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`/cn${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ·»åŠ åœ°ç†ä½ç½® header</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  request.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x-user-country&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{ value: country </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;unknown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  request.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x-user-city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{ value: city </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;unknown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="cloudfront-é…ç½®" tabindex="-1">CloudFront é…ç½® <a class="header-anchor" href="#cloudfront-é…ç½®" aria-label="Permalink to &quot;CloudFront é…ç½®&quot;">â€‹</a></h2><h3 id="cloudfront-åˆ†å‘é…ç½®" tabindex="-1">CloudFront åˆ†å‘é…ç½® <a class="header-anchor" href="#cloudfront-åˆ†å‘é…ç½®" aria-label="Permalink to &quot;CloudFront åˆ†å‘é…ç½®&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;CallerReference&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;halolight-distribution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Comment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HaloLight CDN Distribution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;DefaultCacheBehavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;TargetOriginId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;S3-halolight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ViewerProtocolPolicy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;redirect-to-https&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AllowedMethods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HEAD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OPTIONS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;CachedMethods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HEAD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ForwardedValues&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;QueryString&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Cookies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;Forward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Headers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Origin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Access-Control-Request-Method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Access-Control-Request-Headers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;MinTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;DefaultTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">86400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;MaxTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31536000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Compress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;LambdaFunctionAssociations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;EventType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;viewer-request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;LambdaFunctionARN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:lambda:us-east-1:123456789:function:auth:1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;EventType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;origin-request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;LambdaFunctionARN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:lambda:us-east-1:123456789:function:ssr:1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Origins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Items&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;Id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;S3-halolight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;DomainName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;halolight-static.s3.ap-northeast-1.amazonaws.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;S3OriginConfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;OriginAccessIdentity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;origin-access-identity/cloudfront/E1234567890ABC&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;PriceClass&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PriceClass_200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;HttpVersion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http2and3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;IsIPV6Enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="ç¼“å­˜ç­–ç•¥" tabindex="-1">ç¼“å­˜ç­–ç•¥ <a class="header-anchor" href="#ç¼“å­˜ç­–ç•¥" aria-label="Permalink to &quot;ç¼“å­˜ç­–ç•¥&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HaloLight-CachePolicy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;DefaultTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">86400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;MaxTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31536000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;MinTTL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ParametersInCacheKeyAndForwardedToOrigin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;EnableAcceptEncodingGzip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;EnableAcceptEncodingBrotli&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HeadersConfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;HeaderBehavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;whitelist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Headers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Authorization&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Accept-Language&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;CookiesConfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;CookieBehavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;QueryStringsConfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;QueryStringBehavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;whitelist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;QueryStrings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="s3-å­˜å‚¨æ¡¶é…ç½®" tabindex="-1">S3 å­˜å‚¨æ¡¶é…ç½® <a class="header-anchor" href="#s3-å­˜å‚¨æ¡¶é…ç½®" aria-label="Permalink to &quot;S3 å­˜å‚¨æ¡¶é…ç½®&quot;">â€‹</a></h2><h3 id="å­˜å‚¨æ¡¶ç­–ç•¥" tabindex="-1">å­˜å‚¨æ¡¶ç­–ç•¥ <a class="header-anchor" href="#å­˜å‚¨æ¡¶ç­–ç•¥" aria-label="Permalink to &quot;å­˜å‚¨æ¡¶ç­–ç•¥&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AllowCloudFrontAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Principal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;AWS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1234567890ABC&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:s3:::halolight-static/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="cors-é…ç½®" tabindex="-1">CORS é…ç½® <a class="header-anchor" href="#cors-é…ç½®" aria-label="Permalink to &quot;CORS é…ç½®&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AllowedHeaders&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AllowedMethods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HEAD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AllowedOrigins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://halolight-aws.h7ml.cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://halolight.h7ml.cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ExposeHeaders&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ETag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;MaxAgeSeconds&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3600</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="iam-ç­–ç•¥" tabindex="-1">IAM ç­–ç•¥ <a class="header-anchor" href="#iam-ç­–ç•¥" aria-label="Permalink to &quot;IAM ç­–ç•¥&quot;">â€‹</a></h2><h3 id="amplify-éƒ¨ç½²è§’è‰²" tabindex="-1">Amplify éƒ¨ç½²è§’è‰² <a class="header-anchor" href="#amplify-éƒ¨ç½²è§’è‰²" aria-label="Permalink to &quot;Amplify éƒ¨ç½²è§’è‰²&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AmplifyAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;amplify:*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;S3Access&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:DeleteObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:ListBucket&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;arn:aws:s3:::halolight-*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;arn:aws:s3:::halolight-*/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CloudFrontAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;cloudfront:CreateInvalidation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;cloudfront:GetDistribution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;cloudfront:UpdateDistribution&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LambdaAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;lambda:CreateFunction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;lambda:UpdateFunctionCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;lambda:GetFunction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;lambda:EnableReplication*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:lambda:*:*:function:halolight-*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SSMAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;ssm:GetParameter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;ssm:GetParameters&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:ssm:*:*:parameter/halolight/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h3 id="æœ€å°æƒé™åŸåˆ™" tabindex="-1">æœ€å°æƒé™åŸåˆ™ <a class="header-anchor" href="#æœ€å°æƒé™åŸåˆ™" aria-label="Permalink to &quot;æœ€å°æƒé™åŸåˆ™&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ReadOnlyAccess&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;dynamodb:GetItem&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;dynamodb:Query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;rds:DescribeDBInstances&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Condition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;StringEquals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;aws:RequestedRegion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ap-northeast-1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="dynamodb-é›†æˆ" tabindex="-1">DynamoDB é›†æˆ <a class="header-anchor" href="#dynamodb-é›†æˆ" aria-label="Permalink to &quot;DynamoDB é›†æˆ&quot;">â€‹</a></h2><h3 id="è¡¨å®šä¹‰" tabindex="-1">è¡¨å®šä¹‰ <a class="header-anchor" href="#è¡¨å®šä¹‰" aria-label="Permalink to &quot;è¡¨å®šä¹‰&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// lib/dynamodb.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DynamoDBClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@aws-sdk/client-dynamodb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DynamoDBDocumentClient, GetCommand, PutCommand, QueryCommand } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@aws-sdk/lib-dynamodb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DynamoDBClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ region: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AWS_REGION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> docClient</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DynamoDBDocumentClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(client);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TABLE_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DYNAMODB_TABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;halolight-users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TableName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TABLE_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Key: { pk: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`USER#${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sk: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PROFILE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> docClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.Item;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PutCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TableName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TABLE_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Item: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      pk: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`USER#${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      sk: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PROFILE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      createdAt: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toISOString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> docClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUsersByRole</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">role</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> QueryCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TableName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TABLE_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    IndexName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GSI1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    KeyConditionExpression: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gsi1pk = :role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ExpressionAttributeValues: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;:role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`ROLE#${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> docClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.Items;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="cloudformation-æ¨¡æ¿" tabindex="-1">CloudFormation æ¨¡æ¿ <a class="header-anchor" href="#cloudformation-æ¨¡æ¿" aria-label="Permalink to &quot;CloudFormation æ¨¡æ¿&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cloudformation/dynamodb.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AWSTemplateFormatVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2010-09-09&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HaloLight DynamoDB Tables</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  UsersTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AWS::DynamoDB::Table</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      TableName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">halolight-users</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      BillingMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PAY_PER_REQUEST</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      AttributeDefinitions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          AttributeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">S</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          AttributeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">S</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gsi1pk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          AttributeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">S</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gsi1sk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          AttributeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">S</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      KeySchema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          KeyType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HASH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          KeyType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">RANGE</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      GlobalSecondaryIndexes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">IndexName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GSI1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          KeySchema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gsi1pk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              KeyType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HASH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AttributeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gsi1sk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              KeyType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">RANGE</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          Projection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">            ProjectionType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ALL</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      PointInTimeRecoverySpecification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        PointInTimeRecoveryEnabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Project</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HaloLight</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="rds-æ•°æ®åº“" tabindex="-1">RDS æ•°æ®åº“ <a class="header-anchor" href="#rds-æ•°æ®åº“" aria-label="Permalink to &quot;RDS æ•°æ®åº“&quot;">â€‹</a></h2><h3 id="è¿æ¥é…ç½®" tabindex="-1">è¿æ¥é…ç½® <a class="header-anchor" href="#è¿æ¥é…ç½®" aria-label="Permalink to &quot;è¿æ¥é…ç½®&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// lib/rds.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Pool } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Pool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  connectionString: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DATABASE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ssl: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rejectUnauthorized: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  max: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  idleTimeoutMillis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  connectionTimeoutMillis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[])</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pool.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text, params);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.rows </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT * FROM users ORDER BY created_at DESC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="cloudwatch-ç›‘æ§" tabindex="-1">CloudWatch ç›‘æ§ <a class="header-anchor" href="#cloudwatch-ç›‘æ§" aria-label="Permalink to &quot;CloudWatch ç›‘æ§&quot;">â€‹</a></h2><h3 id="è‡ªå®šä¹‰æŒ‡æ ‡" tabindex="-1">è‡ªå®šä¹‰æŒ‡æ ‡ <a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡æ ‡" aria-label="Permalink to &quot;è‡ªå®šä¹‰æŒ‡æ ‡&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// lib/cloudwatch.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { CloudWatchClient, PutMetricDataCommand } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@aws-sdk/client-cloudwatch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CloudWatchClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ region: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AWS_REGION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> putMetric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">unit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PutMetricDataCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Namespace: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HaloLight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MetricData: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MetricName: name,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Value: value,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Unit: unit,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Dimensions: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Environment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Value: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trackApiRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">endpoint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">duration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> putMetric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`API_${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">endpoint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}_Requests`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> putMetric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`API_${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">endpoint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}_Duration`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, duration, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Milliseconds&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="å‘Šè­¦é…ç½®" tabindex="-1">å‘Šè­¦é…ç½® <a class="header-anchor" href="#å‘Šè­¦é…ç½®" aria-label="Permalink to &quot;å‘Šè­¦é…ç½®&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cloudformation/alarms.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AWSTemplateFormatVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2010-09-09&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HaloLight CloudWatch Alarms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  HighErrorRateAlarm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AWS::CloudWatch::Alarm</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      AlarmName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HaloLight-HighErrorRate</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      AlarmDescription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Alarm when error rate exceeds 5%</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      MetricName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5XXError</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AWS/CloudFront</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Statistic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Average</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Period</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      EvaluationPeriods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Threshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      ComparisonOperator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GreaterThanThreshold</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      AlarmActions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!Ref</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AlertSNSTopic</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Dimensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DistributionId</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!Ref</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CloudFrontDistribution</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  AlertSNSTopic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AWS::SNS::Topic</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      TopicName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">halolight-alerts</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      Subscription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">email</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          Endpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">admin@halolight.h7ml.cn</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="å¸¸ç”¨å‘½ä»¤" tabindex="-1">å¸¸ç”¨å‘½ä»¤ <a class="header-anchor" href="#å¸¸ç”¨å‘½ä»¤" aria-label="Permalink to &quot;å¸¸ç”¨å‘½ä»¤&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Amplify CLI</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # æŸ¥çœ‹çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      # æ¨é€åç«¯æ›´æ”¹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # å‘å¸ƒå‰ç«¯å’Œåç«¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                  # åˆ—å‡ºç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prod</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # åˆ‡æ¢ç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">amplify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # åˆ é™¤é¡¹ç›®</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI - S3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                         # åˆ—å‡ºå­˜å‚¨æ¡¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://bucket</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # åŒæ­¥æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://bucket</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æ¸…ç©ºå­˜å‚¨æ¡¶</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI - CloudFront</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloudfront</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-invalidation</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --distribution-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E1234567890</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --paths</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/*&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # åˆ·æ–°ç¼“å­˜</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI - Lambda</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lambda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-function-code</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --function-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halolight-ssr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --zip-file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fileb://function.zip</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æ›´æ–°å‡½æ•°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI - CloudWatch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /aws/lambda/halolight</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --follow</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># AWS CLI - SSM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get-parameter</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/halolight/prod/DATABASE_URL&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --with-decryption</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="è‡ªå®šä¹‰åŸŸå" tabindex="-1">è‡ªå®šä¹‰åŸŸå <a class="header-anchor" href="#è‡ªå®šä¹‰åŸŸå" aria-label="Permalink to &quot;è‡ªå®šä¹‰åŸŸå&quot;">â€‹</a></h2><h3 id="route-53-é…ç½®" tabindex="-1">Route 53 é…ç½® <a class="header-anchor" href="#route-53-é…ç½®" aria-label="Permalink to &quot;Route 53 é…ç½®&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»ºæ‰˜ç®¡åŒºåŸŸ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route53</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-hosted-zone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halolight-aws.h7ml.cn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --caller-reference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ·»åŠ  A è®°å½• (æŒ‡å‘ CloudFront)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route53</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> change-resource-record-sets</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --hosted-zone-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Z1234567890</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --change-batch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;Changes&quot;: [{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Action&quot;: &quot;CREATE&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;ResourceRecordSet&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Name&quot;: &quot;halolight-aws.h7ml.cn&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Type&quot;: &quot;A&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;AliasTarget&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &quot;HostedZoneId&quot;: &quot;Z2FDTNDATAQYW2&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &quot;DNSName&quot;: &quot;d1234567890.cloudfront.net&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &quot;EvaluateTargetHealth&quot;: false</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    }]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="acm-è¯ä¹¦" tabindex="-1">ACM è¯ä¹¦ <a class="header-anchor" href="#acm-è¯ä¹¦" aria-label="Permalink to &quot;ACM è¯ä¹¦&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¯·æ±‚è¯ä¹¦ (å¿…é¡»åœ¨ us-east-1 åŒºåŸŸ)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> acm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request-certificate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --domain-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halolight-aws.h7ml.cn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --validation-method</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DNS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --region</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> us-east-1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># éªŒè¯åå…³è”åˆ° CloudFront</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloudfront</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-distribution</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E1234567890</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --viewer-certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;ACMCertificateArn&quot;: &quot;arn:aws:acm:us-east-1:123456789:certificate/xxx&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;SSLSupportMethod&quot;: &quot;sni-only&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;MinimumProtocolVersion&quot;: &quot;TLSv1.2_2021&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="å¸¸è§é—®é¢˜" tabindex="-1">å¸¸è§é—®é¢˜ <a class="header-anchor" href="#å¸¸è§é—®é¢˜" aria-label="Permalink to &quot;å¸¸è§é—®é¢˜&quot;">â€‹</a></h2><h3 id="q-amplify-æ„å»ºå¤±è´¥" tabindex="-1">Qï¼šAmplify æ„å»ºå¤±è´¥ï¼Ÿ <a class="header-anchor" href="#q-amplify-æ„å»ºå¤±è´¥" aria-label="Permalink to &quot;Qï¼šAmplify æ„å»ºå¤±è´¥ï¼Ÿ&quot;">â€‹</a></h3><p>Aï¼šæ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li>æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯</li><li>ç¡®è®¤ Node.js ç‰ˆæœ¬å…¼å®¹ (Amplify é»˜è®¤ä½¿ç”¨ Node 18)</li><li>æ£€æŸ¥ <code>amplify.yml</code> é…ç½®æ˜¯å¦æ­£ç¡®</li><li>ç¡®è®¤ç¯å¢ƒå˜é‡å·²è®¾ç½®</li></ol><h3 id="q-cloudfront-ç¼“å­˜é—®é¢˜" tabindex="-1">Qï¼šCloudFront ç¼“å­˜é—®é¢˜ï¼Ÿ <a class="header-anchor" href="#q-cloudfront-ç¼“å­˜é—®é¢˜" aria-label="Permalink to &quot;Qï¼šCloudFront ç¼“å­˜é—®é¢˜ï¼Ÿ&quot;">â€‹</a></h3><p>Aï¼šåˆ·æ–°ç¼“å­˜ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloudfront</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-invalidation</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --distribution-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E1234567890</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --paths</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/*&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="q-lambda-edge-éƒ¨ç½²é™åˆ¶" tabindex="-1">Qï¼šLambda@Edge éƒ¨ç½²é™åˆ¶ï¼Ÿ <a class="header-anchor" href="#q-lambda-edge-éƒ¨ç½²é™åˆ¶" aria-label="Permalink to &quot;Qï¼šLambda@Edge éƒ¨ç½²é™åˆ¶ï¼Ÿ&quot;">â€‹</a></h3><p>Aï¼šæ³¨æ„äº‹é¡¹ï¼š</p><ol><li>Lambda@Edge å¿…é¡»åœ¨ <code>us-east-1</code> åŒºåŸŸåˆ›å»º</li><li>å‡½æ•°åŒ…å¤§å°é™åˆ¶ï¼š1MB (å‹ç¼©å)</li><li>è¿è¡Œæ—¶é™åˆ¶ï¼š5 ç§’ (viewer request/response)ï¼Œ30 ç§’ (origin request/response)</li><li>å†…å­˜é™åˆ¶ï¼š128MB - 10GB</li></ol><h3 id="q-å¦‚ä½•æŸ¥çœ‹-cloudwatch-æ—¥å¿—" tabindex="-1">Qï¼šå¦‚ä½•æŸ¥çœ‹ CloudWatch æ—¥å¿—ï¼Ÿ <a class="header-anchor" href="#q-å¦‚ä½•æŸ¥çœ‹-cloudwatch-æ—¥å¿—" aria-label="Permalink to &quot;Qï¼šå¦‚ä½•æŸ¥çœ‹ CloudWatch æ—¥å¿—ï¼Ÿ&quot;">â€‹</a></h3><p>Aï¼šä½¿ç”¨ AWS CLI æˆ–æ§åˆ¶å°ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CLI æŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /aws/lambda/halolight-ssr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --follow</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–åœ¨æ§åˆ¶å°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CloudWatch â†’ Log groups â†’ /aws/lambda/halolight-ssr</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="è´¹ç”¨è¯´æ˜" tabindex="-1">è´¹ç”¨è¯´æ˜ <a class="header-anchor" href="#è´¹ç”¨è¯´æ˜" aria-label="Permalink to &quot;è´¹ç”¨è¯´æ˜&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>æœåŠ¡</th><th>å…è´¹é¢åº¦</th><th>è¶…å‡ºä»·æ ¼</th></tr></thead><tbody><tr><td>Amplify æ„å»º</td><td>1000 åˆ†é’Ÿ/æœˆ</td><td>$0.01/åˆ†é’Ÿ</td></tr><tr><td>Amplify æ‰˜ç®¡</td><td>15GB å­˜å‚¨ï¼Œ5GB ä¼ è¾“</td><td>$0.023/GB</td></tr><tr><td>S3 å­˜å‚¨</td><td>5GB</td><td>$0.025/GB</td></tr><tr><td>CloudFront</td><td>1TB ä¼ è¾“/æœˆ</td><td>$0.085/GB</td></tr><tr><td>Lambda@Edge</td><td>1M è¯·æ±‚/æœˆ</td><td>$0.60/M è¯·æ±‚</td></tr><tr><td>Route 53</td><td>-</td><td>$0.50/æ‰˜ç®¡åŒºåŸŸ</td></tr></tbody></table><h2 id="ä¸å…¶ä»–å¹³å°å¯¹æ¯”" tabindex="-1">ä¸å…¶ä»–å¹³å°å¯¹æ¯” <a class="header-anchor" href="#ä¸å…¶ä»–å¹³å°å¯¹æ¯”" aria-label="Permalink to &quot;ä¸å…¶ä»–å¹³å°å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>AWS Amplify</th><th>Vercel</th><th>Netlify</th></tr></thead><tbody><tr><td>å…¨çƒè¾¹ç¼˜</td><td>âœ… CloudFront</td><td>âœ…</td><td>âœ…</td></tr><tr><td>SSR æ”¯æŒ</td><td>âœ… Lambda@Edge</td><td>âœ… åŸç”Ÿ</td><td>âœ…</td></tr><tr><td>æ‰˜ç®¡æ•°æ®åº“</td><td>âœ… RDS/DynamoDB</td><td>âœ… Postgres</td><td>âŒ éœ€å¤–éƒ¨</td></tr><tr><td>å…è´¹å¸¦å®½</td><td>5GB</td><td>100GB</td><td>100GB</td></tr><tr><td>ä¼ä¸šåŠŸèƒ½</td><td>âœ… IAM/VPC</td><td>âš ï¸ æœ‰é™</td><td>âš ï¸ æœ‰é™</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>è¾ƒé™¡</td><td>å¹³ç¼“</td><td>å¹³ç¼“</td></tr></tbody></table><h2 id="ç›¸å…³é“¾æ¥" tabindex="-1">ç›¸å…³é“¾æ¥ <a class="header-anchor" href="#ç›¸å…³é“¾æ¥" aria-label="Permalink to &quot;ç›¸å…³é“¾æ¥&quot;">â€‹</a></h2><ul><li><a href="https://halolight-aws.h7ml.cn" target="_blank" rel="noreferrer">åœ¨çº¿é¢„è§ˆ</a></li><li><a href="https://github.com/halolight/halolight-aws" target="_blank" rel="noreferrer">GitHub ä»“åº“</a></li><li><a href="https://docs.amplify.aws" target="_blank" rel="noreferrer">AWS Amplify æ–‡æ¡£</a></li><li><a href="https://docs.aws.amazon.com/cloudfront" target="_blank" rel="noreferrer">AWS CloudFront æ–‡æ¡£</a></li><li><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html" target="_blank" rel="noreferrer">AWS Lambda@Edge æ–‡æ¡£</a></li><li><a href="https://docs.aws.amazon.com/s3" target="_blank" rel="noreferrer">AWS S3 æ–‡æ¡£</a></li><li><a href="https://docs.halolight.h7ml.cn" target="_blank" rel="noreferrer">HaloLight æ–‡æ¡£</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-3cae9173 data-v-5164a641><!--[--><!--]--><div class="edit-info" data-v-5164a641><div class="edit-link" data-v-5164a641><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/halolight/docs/edit/main/guide/aws.md" target="_blank" rel="noreferrer" data-v-5164a641><!--[--><span class="vpi-square-pen edit-link-icon" data-v-5164a641></span> åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!--]--></a></div><div class="last-updated" data-v-5164a641><p class="VPLastUpdated" data-v-5164a641 data-v-cea14c58>æœ€åæ›´æ–°äº: <time datetime="2025-12-17T12:13:34.000Z" data-v-cea14c58></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5164a641><span class="visually-hidden" id="doc-footer-aria-label" data-v-5164a641>Pager</span><div class="pager" data-v-5164a641><a class="VPLink link pager-link prev" href="/halolight/guide/azure" data-v-5164a641><!--[--><span class="desc" data-v-5164a641>ä¸Šä¸€ç¯‡</span><span class="title" data-v-5164a641>â˜ï¸ Azure</span><!--]--></a></div><div class="pager" data-v-5164a641><!----></div></nav></footer><!--[--><!--[--><!--[--><div class="giscus-container" data-v-020b74f3><!----></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><div class="custom-footer" data-v-34b8cf29><div class="footer-content" data-v-34b8cf29><div class="footer-links" data-v-34b8cf29><a href="https://github.com/halolight" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> GitHub </a><span class="divider" data-v-34b8cf29>|</span><a href="https://halolight.h7ml.cn/" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> Next.js Demo </a><span class="divider" data-v-34b8cf29>|</span><a href="https://halolight-vue.h7ml.cn/" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> Vue Demo </a><span class="divider" data-v-34b8cf29>|</span><a href="/sitemap.xml" target="_blank" data-v-34b8cf29> Sitemap </a><span class="divider" data-v-34b8cf29>|</span><a href="/feed.xml" target="_blank" data-v-34b8cf29><svg class="rss-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-34b8cf29><path d="M4 11a9 9 0 0 1 9 9" data-v-34b8cf29></path><path d="M4 4a16 16 0 0 1 16 16" data-v-34b8cf29></path><circle cx="5" cy="19" r="1" data-v-34b8cf29></circle></svg> RSS </a></div><div class="footer-stats" data-v-34b8cf29><a target="_blank" title="51laç½‘ç«™ç»Ÿè®¡" href="https://v6.51.la/land/L1NaKSoU1jvMh9mE" data-v-34b8cf29><img src="https://sdk.51.la/icon/1-1.png" alt="51laç½‘ç«™ç»Ÿè®¡" class="stats-badge" data-v-34b8cf29></a></div><div class="footer-copyright" data-v-34b8cf29><p data-v-34b8cf29> Released under the <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> MIT License </a></p><p data-v-34b8cf29> Copyright Â© 2025 <a href="https://github.com/h7ml" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> h7ml </a> &amp; <a href="https://github.com/halolight" target="_blank" rel="noopener noreferrer" data-v-34b8cf29> HaloLight </a></p><p class="author-email" data-v-34b8cf29><a href="mailto:h7ml@qq.com" data-v-34b8cf29>h7ml@qq.com</a></p></div></div></div><!--[--><button class="bottom-right ai-chat-toggle" title="AI åŠ©æ‰‹" style="" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ae981d93><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" data-v-ae981d93></path></svg></button><div class="bottom-right ai-chat-panel" style="display:none;" data-v-ae981d93><div class="ai-chat-header" data-v-ae981d93><div class="header-left" data-v-ae981d93><button class="icon-btn" title="Toggle sidebar" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae981d93><line x1="3" y1="12" x2="21" y2="12" data-v-ae981d93></line><line x1="3" y1="6" x2="21" y2="6" data-v-ae981d93></line><line x1="3" y1="18" x2="21" y2="18" data-v-ae981d93></line></svg></button><span class="title" data-v-ae981d93>AI åŠ©æ‰‹</span></div><div class="header-actions" data-v-ae981d93><button class="icon-btn" title="æ–°å¯¹è¯" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae981d93><line x1="12" y1="5" x2="12" y2="19" data-v-ae981d93></line><line x1="5" y1="12" x2="19" y2="12" data-v-ae981d93></line></svg></button><!----><button class="icon-btn" title="è®¾ç½®" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae981d93><circle cx="12" cy="12" r="3" data-v-ae981d93></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" data-v-ae981d93></path></svg></button><button class="icon-btn" title="å…¨å±" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae981d93><polyline points="15 3 21 3 21 9" data-v-ae981d93></polyline><polyline points="9 21 3 21 3 15" data-v-ae981d93></polyline><line x1="21" y1="3" x2="14" y2="10" data-v-ae981d93></line><line x1="3" y1="21" x2="10" y2="14" data-v-ae981d93></line></svg></button><button class="icon-btn" title="å…³é—­" data-v-ae981d93><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae981d93><line x1="18" y1="6" x2="6" y2="18" data-v-ae981d93></line><line x1="6" y1="6" x2="18" y2="18" data-v-ae981d93></line></svg></button></div></div><div class="ai-chat-body" data-v-ae981d93><div class="ai-chat-sidebar" data-v-ae981d93><div class="sidebar-header" data-v-ae981d93><span data-v-ae981d93>ä¼šè¯åˆ—è¡¨</span></div><div class="session-list" data-v-ae981d93><!--[--><!--]--><div class="no-sessions" data-v-ae981d93>æš‚æ— ä¼šè¯</div></div></div><div class="ai-chat-main" data-v-ae981d93><div class="messages-container" data-v-ae981d93><div class="no-api-key" data-v-ae981d93><p data-v-ae981d93>è¯·å…ˆé…ç½® API Key</p><button data-v-ae981d93>è®¾ç½®</button></div></div><div class="input-container" data-v-ae981d93><textarea placeholder="è¾“å…¥æ¶ˆæ¯..." disabled rows="1" data-v-ae981d93></textarea><button class="send-btn" disabled data-v-ae981d93>å‘é€</button></div></div></div></div><!--]--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"development_api-patterns.md\":\"D2wniBg1\",\"development_architecture.md\":\"C9jhKjXo\",\"development_authentication.md\":\"CHhj-5qM\",\"development_components.md\":\"CkLyrAYD\",\"development_dashboard.md\":\"ClOCo7sJ\",\"development_ecosystem.md\":\"CksHhLKR\",\"development_implementation-guide.md\":\"Cqu1fxW-\",\"development_index.md\":\"BjkbE9Ib\",\"development_state-management.md\":\"CY2aGoio\",\"development_theming.md\":\"4npM9i5B\",\"en_development_api-patterns.md\":\"PV-mz1fN\",\"en_development_architecture.md\":\"6509u1af\",\"en_development_authentication.md\":\"F2k4fO1m\",\"en_development_components.md\":\"B7SYduMA\",\"en_development_dashboard.md\":\"CXpjSwZD\",\"en_development_ecosystem.md\":\"DnuZQHZs\",\"en_development_implementation-guide.md\":\"DF0eDy8d\",\"en_development_index.md\":\"7c124Uz9\",\"en_development_state-management.md\":\"Dfv0q-RF\",\"en_development_theming.md\":\"C-p42XbT\",\"en_guide_action.md\":\"Rs3tfFi7\",\"en_guide_admin.md\":\"2cq_p0xw\",\"en_guide_ai.md\":\"Du5U9-Gv\",\"en_guide_angular.md\":\"B-nkfTjx\",\"en_guide_api-bun.md\":\"DhGpLMB3\",\"en_guide_api-go.md\":\"Coqyrikx\",\"en_guide_api-java.md\":\"DSnb5U9w\",\"en_guide_api-nestjs.md\":\"GqNi6U9V\",\"en_guide_api-node.md\":\"CIyneP2N\",\"en_guide_api-php.md\":\"CYXzfjJ_\",\"en_guide_api-python.md\":\"CCnGoG8B\",\"en_guide_astro.md\":\"DGtmbmmp\",\"en_guide_aws.md\":\"CoKrWHox\",\"en_guide_azure.md\":\"Rxp7b0rk\",\"en_guide_bff.md\":\"BRiRIob3\",\"en_guide_cloudflare.md\":\"_UA8ZPwT\",\"en_guide_combinations.md\":\"Cgzv9s73\",\"en_guide_deno.md\":\"TJJdqb-6\",\"en_guide_docker.md\":\"DRxHw8LN\",\"en_guide_fly.md\":\"CrU4OMZA\",\"en_guide_fresh.md\":\"CSnPRDDU\",\"en_guide_getting-started.md\":\"BovN6B37\",\"en_guide_index.md\":\"BPArhRuF\",\"en_guide_lit.md\":\"CL4Z8_tu\",\"en_guide_netlify.md\":\"CBPuN1P_\",\"en_guide_nextjs.md\":\"DgG833YX\",\"en_guide_nuxt.md\":\"k_mxWqnu\",\"en_guide_preact.md\":\"BnPIz0xm\",\"en_guide_qwik.md\":\"_jMYN75p\",\"en_guide_railway.md\":\"HpDORuke\",\"en_guide_react.md\":\"C_uE9lVt\",\"en_guide_remix.md\":\"Ca4wXaH_\",\"en_guide_solidjs.md\":\"CZFB1YeI\",\"en_guide_sveltekit.md\":\"Cv6JRKfm\",\"en_guide_ui.md\":\"BKpueATy\",\"en_guide_vercel.md\":\"BXCM2n_9\",\"en_guide_vue.md\":\"CbC_0COz\",\"en_guide_web3.md\":\"B8BJrrNE\",\"en_index.md\":\"D214_m3v\",\"guide_action.md\":\"CT87ZuRt\",\"guide_admin.md\":\"DFUziF2I\",\"guide_ai.md\":\"C8hHgyzZ\",\"guide_angular.md\":\"BFf-hq6g\",\"guide_api-bun.md\":\"_eEvw_Vd\",\"guide_api-go.md\":\"BVWnS-pY\",\"guide_api-java.md\":\"D602YqaR\",\"guide_api-nestjs.md\":\"fIfYTsUZ\",\"guide_api-node.md\":\"Ca0FNirj\",\"guide_api-php.md\":\"D6xVf9_Y\",\"guide_api-python.md\":\"enYbOQCc\",\"guide_astro.md\":\"DAnbzosG\",\"guide_aws.md\":\"D-1_IDc1\",\"guide_azure.md\":\"Cl_j8zKj\",\"guide_bff.md\":\"CNwU54Da\",\"guide_cloudflare.md\":\"CXJeGken\",\"guide_combinations.md\":\"-bS9b7Ew\",\"guide_deno.md\":\"BQtrsEvO\",\"guide_docker.md\":\"CAV3UaIl\",\"guide_fly.md\":\"Dyyxf1Fq\",\"guide_fresh.md\":\"Ba5eGbvC\",\"guide_getting-started.md\":\"cq0nj2do\",\"guide_index.md\":\"CrTmUcZb\",\"guide_lit.md\":\"D1xfie5T\",\"guide_netlify.md\":\"SmFpU-3u\",\"guide_nextjs.md\":\"DW1lhDGj\",\"guide_nuxt.md\":\"KyjvePxy\",\"guide_preact.md\":\"psAYh6lP\",\"guide_qwik.md\":\"lWxR67kr\",\"guide_railway.md\":\"ByXrQ-f-\",\"guide_react.md\":\"B9i8U6dY\",\"guide_remix.md\":\"CO-g3X_l\",\"guide_solidjs.md\":\"Dl3VUhC-\",\"guide_sveltekit.md\":\"By6JN6gc\",\"guide_ui.md\":\"B5eXCV7R\",\"guide_vercel.md\":\"C7HVZu6O\",\"guide_vue.md\":\"DisQyEYJ\",\"guide_web3.md\":\"DgJnUv9n\",\"index.md\":\"41I-tl60\",\"readme.en.md\":\"CUpk6rGp\",\"readme.md\":\"D4bav1Et\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HaloLight\",\"description\":\"HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶\",\"base\":\"/halolight/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 448 512\\\"><title>RSS</title><path d=\\\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z\\\" fill=\\\"currentColor\\\"></path></svg>\"},\"link\":\"https://halolight.docs.h7ml.cn/halolight/feed.xml\",\"ariaLabel\":\"RSS\"},{\"icon\":\"github\",\"link\":\"https://github.com/halolight\"}]},\"locales\":{\"root\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh-CN\",\"title\":\"HaloLight\",\"description\":\"HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶\",\"head\":[[\"meta\",{\"name\":\"keywords\",\"content\":\"HaloLight,Admin,Dashboard,ç®¡ç†åå°,Next.js,Vue,React,Angular,TypeScript,Tailwind CSS,shadcn/ui,ä¼ä¸šçº§,å¤šæ¡†æ¶\"}],[\"meta\",{\"name\":\"description\",\"content\":\"HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"zh_CN\"}],[\"meta\",{\"name\":\"twitter:description\",\"content\":\"HaloLight å¤šæ¡†æ¶ç®¡ç†åå°è§£å†³æ–¹æ¡ˆæ–‡æ¡£ - ä¸€å¥—è®¾è®¡è§„èŒƒï¼Œå¤šæ¡†æ¶å®ç°çš„ä¼ä¸šçº§ Admin Dashboardï¼Œæ”¯æŒ Next.jsã€Vueã€Angular ç­‰ 12 ç§æ¡†æ¶\"}]],\"themeConfig\":{\"nav\":[{\"text\":\"é¦–é¡µ\",\"link\":\"/\"},{\"text\":\"æŒ‡å—\",\"link\":\"/guide/\"},{\"text\":\"å¼€å‘\",\"link\":\"/development/\"},{\"text\":\"é¢„è§ˆ\",\"items\":[{\"text\":\"æ¡†æ¶ç‰ˆæœ¬\",\"items\":[{\"text\":\"ğŸŸ¦ Next.js\",\"link\":\"https://halolight.h7ml.cn/\"},{\"text\":\"âš›ï¸ React\",\"link\":\"https://halolight-react.h7ml.cn/\"},{\"text\":\"ğŸ’š Vue\",\"link\":\"https://halolight-vue.h7ml.cn/\"},{\"text\":\"ğŸ”º Angular\",\"link\":\"https://halolight-angular.h7ml.cn/\"},{\"text\":\"ğŸŒ¿ Nuxt\",\"link\":\"https://halolight-nuxt.h7ml.cn/\"},{\"text\":\"ğŸ§¡ SvelteKit\",\"link\":\"https://halolight-svelte.h7ml.cn/\"},{\"text\":\"ğŸª Astro\",\"link\":\"https://halolight-astro.h7ml.cn/\"},{\"text\":\"ğŸ’  Solid.js\",\"link\":\"https://halolight-solid.h7ml.cn/\"},{\"text\":\"âš¡ Qwik\",\"link\":\"https://halolight-qwik.h7ml.cn/\"},{\"text\":\"ğŸ¸ Remix\",\"link\":\"https://halolight-remix.h7ml.cn/\"},{\"text\":\"ğŸª¶ Preact\",\"link\":\"https://halolight-preact.h7ml.cn/\"},{\"text\":\"ğŸ”¥ Lit\",\"link\":\"https://halolight-lit.h7ml.cn/\"},{\"text\":\"ğŸ¦– Fresh (Deno)\",\"link\":\"https://halolight-fresh.h7ml.cn/\"}]},{\"text\":\"éƒ¨ç½²ç‰ˆæœ¬\",\"items\":[{\"text\":\"â˜ï¸ Cloudflare\",\"link\":\"https://halolight-cloudflare.h7ml.cn/\"},{\"text\":\"â–² Vercel\",\"link\":\"https://halolight-vercel.h7ml.cn/\"},{\"text\":\"ğŸ”· Netlify\",\"link\":\"https://halolight-netlify.h7ml.cn/\"},{\"text\":\"ğŸš‚ Railway\",\"link\":\"https://halolight-railway.h7ml.cn/\"},{\"text\":\"âœˆï¸ Fly.io\",\"link\":\"https://halolight-fly.h7ml.cn/\"},{\"text\":\"â˜ï¸ Azure\",\"link\":\"https://halolight-azure.h7ml.cn/\"},{\"text\":\"ğŸŸ  AWS\",\"link\":\"https://halolight-aws.h7ml.cn/\"}]},{\"text\":\"åç«¯æœåŠ¡\",\"items\":[{\"text\":\"ğŸ¦• Deno API\",\"link\":\"https://halolight-deno.h7ml.cn/\"},{\"text\":\"ğŸ¹ Go API\",\"link\":\"https://halolight-api-go.h7ml.cn/\"},{\"text\":\"ğŸŸ© Node.js API\",\"link\":\"https://halolight-api-node.h7ml.cn/\"},{\"text\":\"ğŸ—ï¸ NestJS API\",\"link\":\"https://halolight-api-nestjs.h7ml.cn/\"},{\"text\":\"â˜• Java API\",\"link\":\"https://halolight-api-java.h7ml.cn/\"},{\"text\":\"ğŸ› ï¸ Admin\",\"link\":\"https://halolight-admin.h7ml.cn/\"}]}]},{\"text\":\"GitHub\",\"items\":[{\"text\":\"ğŸ  ç»„ç»‡ä¸»é¡µ\",\"link\":\"https://github.com/halolight\"},{\"text\":\"ğŸ“š æ–‡æ¡£ä»“åº“\",\"link\":\"https://github.com/halolight/docs\"},{\"text\":\"ğŸŸ¦ Next.js ä»“åº“\",\"link\":\"https://github.com/halolight/halolight\"},{\"text\":\"ğŸ’š Vue ä»“åº“\",\"link\":\"https://github.com/halolight/halolight-vue\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"å…¥é—¨\",\"collapsed\":false,\"items\":[{\"text\":\"ğŸ“– ç®€ä»‹\",\"link\":\"/guide/\"},{\"text\":\"ğŸš€ å¿«é€Ÿå¼€å§‹\",\"link\":\"/guide/getting-started\"},{\"text\":\"ğŸ”€ æ¶æ„ç»„åˆæŒ‡å—\",\"link\":\"/guide/combinations\"}]},{\"text\":\"æ¡†æ¶ç‰ˆæœ¬\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸŸ¦ Next.js\",\"link\":\"/guide/nextjs\"},{\"text\":\"âš›ï¸ React\",\"link\":\"/guide/react\"},{\"text\":\"ğŸ’š Vue\",\"link\":\"/guide/vue\"},{\"text\":\"ğŸ”º Angular\",\"link\":\"/guide/angular\"},{\"text\":\"ğŸŒ¿ Nuxt\",\"link\":\"/guide/nuxt\"},{\"text\":\"ğŸ§¡ SvelteKit\",\"link\":\"/guide/sveltekit\"},{\"text\":\"ğŸª Astro\",\"link\":\"/guide/astro\"},{\"text\":\"ğŸ’  Solid.js\",\"link\":\"/guide/solidjs\"},{\"text\":\"âš¡ Qwik\",\"link\":\"/guide/qwik\"},{\"text\":\"ğŸ¸ Remix\",\"link\":\"/guide/remix\"},{\"text\":\"ğŸª¶ Preact\",\"link\":\"/guide/preact\"},{\"text\":\"ğŸ”¥ Lit\",\"link\":\"/guide/lit\"},{\"text\":\"ğŸ¦– Fresh (Deno)\",\"link\":\"/guide/fresh\"}]},{\"text\":\"åç«¯æœåŠ¡\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¦• Deno + Hono\",\"link\":\"/guide/deno\"},{\"text\":\"ğŸ¹ Go API\",\"link\":\"/guide/api-go\"},{\"text\":\"ğŸŸ© Node.js API\",\"link\":\"/guide/api-node\"},{\"text\":\"ğŸ—ï¸ NestJS API\",\"link\":\"/guide/api-nestjs\"},{\"text\":\"ğŸ Python FastAPI\",\"link\":\"/guide/api-python\"},{\"text\":\"â˜• Java Spring Boot\",\"link\":\"/guide/api-java\"},{\"text\":\"ğŸ Bun + Hono\",\"link\":\"/guide/api-bun\"},{\"text\":\"ğŸ˜ PHP Laravel\",\"link\":\"/guide/api-php\"},{\"text\":\"ğŸ”— tRPC BFF\",\"link\":\"/guide/bff\"},{\"text\":\"ğŸ› ï¸ è¶…çº§ç®¡ç†é¢æ¿\",\"link\":\"/guide/admin\"}]},{\"text\":\"æ‰©å±•åŠŸèƒ½\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¤– AI æ™ºèƒ½åŠ©ç†\",\"link\":\"/guide/ai\"},{\"text\":\"ğŸ¨ Web Components\",\"link\":\"/guide/ui\"},{\"text\":\"ğŸ”— Web3 é’±åŒ…é›†æˆ\",\"link\":\"/guide/web3\"},{\"text\":\"â° ç­¾åˆ°å®šæ—¶ä»»åŠ¡\",\"link\":\"/guide/action\"}]},{\"text\":\"éƒ¨ç½²æ–¹æ¡ˆ\",\"collapsed\":true,\"items\":[{\"text\":\"â˜ï¸ Cloudflare\",\"link\":\"/guide/cloudflare\"},{\"text\":\"â–² Vercel\",\"link\":\"/guide/vercel\"},{\"text\":\"ğŸ”· Netlify\",\"link\":\"/guide/netlify\"},{\"text\":\"ğŸ³ Docker\",\"link\":\"/guide/docker\"},{\"text\":\"ğŸš‚ Railway\",\"link\":\"/guide/railway\"},{\"text\":\"âœˆï¸ Fly.io\",\"link\":\"/guide/fly\"},{\"text\":\"â˜ï¸ Azure\",\"link\":\"/guide/azure\"},{\"text\":\"ğŸŸ  AWS\",\"link\":\"/guide/aws\"}]}],\"/development/\":[{\"text\":\"å¼€å‘æ–‡æ¡£\",\"collapsed\":false,\"items\":[{\"text\":\"ğŸ“‹ æ¦‚è§ˆ\",\"link\":\"/development/\"},{\"text\":\"ğŸŒ ç”Ÿæ€ç³»ç»Ÿ\",\"link\":\"/development/ecosystem\"},{\"text\":\"ğŸ—ï¸ æ•´ä½“æ¶æ„\",\"link\":\"/development/architecture\"},{\"text\":\"ğŸ§© ç»„ä»¶è§„èŒƒ\",\"link\":\"/development/components\"},{\"text\":\"ğŸ“¦ çŠ¶æ€ç®¡ç†\",\"link\":\"/development/state-management\"},{\"text\":\"ğŸ”Œ API è®¾è®¡\",\"link\":\"/development/api-patterns\"},{\"text\":\"ğŸ” è®¤è¯ç³»ç»Ÿ\",\"link\":\"/development/authentication\"},{\"text\":\"ğŸ“Š ä»ªè¡¨ç›˜\",\"link\":\"/development/dashboard\"},{\"text\":\"ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ\",\"link\":\"/development/theming\"},{\"text\":\"ğŸ“š å®ç°æŒ‡å—\",\"link\":\"/development/implementation-guide\"}]}]},\"outline\":{\"label\":\"é¡µé¢å¯¼èˆª\",\"level\":[2,3]},\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"lastUpdated\":{\"text\":\"æœ€åæ›´æ–°äº\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"short\"}},\"editLink\":{\"pattern\":\"https://github.com/halolight/docs/edit/main/:path\",\"text\":\"åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ\"},\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"sidebarMenuLabel\":\"èœå•\",\"darkModeSwitchLabel\":\"ä¸»é¢˜\",\"lightModeSwitchTitle\":\"åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼\",\"darkModeSwitchTitle\":\"åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼\"}},\"en\":{\"label\":\"English\",\"lang\":\"en-US\",\"title\":\"HaloLight\",\"description\":\"HaloLight Multi-Framework Admin Dashboard Documentation - One design specification, multiple framework implementations for enterprise-level solutions, supporting 12+ frameworks\",\"head\":[[\"meta\",{\"name\":\"keywords\",\"content\":\"HaloLight,Admin,Dashboard,Next.js,Vue,React,Angular,TypeScript,Tailwind CSS,shadcn/ui,Enterprise,Multi-Framework\"}],[\"meta\",{\"name\":\"description\",\"content\":\"HaloLight Multi-Framework Admin Dashboard Documentation - One design specification, multiple framework implementations for enterprise-level solutions, supporting 12+ frameworks\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"HaloLight Multi-Framework Admin Dashboard Documentation - One design specification, multiple framework implementations for enterprise-level solutions, supporting 12+ frameworks\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"meta\",{\"name\":\"twitter:description\",\"content\":\"HaloLight Multi-Framework Admin Dashboard Documentation - One design specification, multiple framework implementations for enterprise-level solutions, supporting 12+ frameworks\"}]],\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/en/\"},{\"text\":\"Guide\",\"link\":\"/en/guide/\"},{\"text\":\"Development\",\"link\":\"/en/development/\"},{\"text\":\"Preview\",\"items\":[{\"text\":\"Framework Versions\",\"items\":[{\"text\":\"ğŸŸ¦ Next.js\",\"link\":\"https://halolight.h7ml.cn/\"},{\"text\":\"âš›ï¸ React\",\"link\":\"https://halolight-react.h7ml.cn/\"},{\"text\":\"ğŸ’š Vue\",\"link\":\"https://halolight-vue.h7ml.cn/\"},{\"text\":\"ğŸ”º Angular\",\"link\":\"https://halolight-angular.h7ml.cn/\"},{\"text\":\"ğŸŒ¿ Nuxt\",\"link\":\"https://halolight-nuxt.h7ml.cn/\"},{\"text\":\"ğŸ§¡ SvelteKit\",\"link\":\"https://halolight-svelte.h7ml.cn/\"},{\"text\":\"ğŸª Astro\",\"link\":\"https://halolight-astro.h7ml.cn/\"},{\"text\":\"ğŸ’  Solid.js\",\"link\":\"https://halolight-solid.h7ml.cn/\"},{\"text\":\"âš¡ Qwik\",\"link\":\"https://halolight-qwik.h7ml.cn/\"},{\"text\":\"ğŸ¸ Remix\",\"link\":\"https://halolight-remix.h7ml.cn/\"},{\"text\":\"ğŸª¶ Preact\",\"link\":\"https://halolight-preact.h7ml.cn/\"},{\"text\":\"ğŸ”¥ Lit\",\"link\":\"https://halolight-lit.h7ml.cn/\"},{\"text\":\"ğŸ¦– Fresh (Deno)\",\"link\":\"https://halolight-fresh.h7ml.cn/\"}]},{\"text\":\"Deployment Options\",\"items\":[{\"text\":\"â˜ï¸ Cloudflare\",\"link\":\"https://halolight-cloudflare.h7ml.cn/\"},{\"text\":\"â–² Vercel\",\"link\":\"https://halolight-vercel.h7ml.cn/\"},{\"text\":\"ğŸ”· Netlify\",\"link\":\"https://halolight-netlify.h7ml.cn/\"},{\"text\":\"ğŸš‚ Railway\",\"link\":\"https://halolight-railway.h7ml.cn/\"},{\"text\":\"âœˆï¸ Fly.io\",\"link\":\"https://halolight-fly.h7ml.cn/\"},{\"text\":\"â˜ï¸ Azure\",\"link\":\"https://halolight-azure.h7ml.cn/\"},{\"text\":\"ğŸŸ  AWS\",\"link\":\"https://halolight-aws.h7ml.cn/\"}]},{\"text\":\"Backend Services\",\"items\":[{\"text\":\"ğŸ¦• Deno API\",\"link\":\"https://halolight-deno.h7ml.cn/\"},{\"text\":\"ğŸ¹ Go API\",\"link\":\"https://halolight-api-go.h7ml.cn/\"},{\"text\":\"ğŸŸ© Node.js API\",\"link\":\"https://halolight-api-node.h7ml.cn/\"},{\"text\":\"ğŸ—ï¸ NestJS API\",\"link\":\"https://halolight-api-nestjs.h7ml.cn/\"},{\"text\":\"â˜• Java API\",\"link\":\"https://halolight-api-java.h7ml.cn/\"},{\"text\":\"ğŸ› ï¸ Admin\",\"link\":\"https://halolight-admin.h7ml.cn/\"}]}]},{\"text\":\"GitHub\",\"items\":[{\"text\":\"ğŸ  Organization\",\"link\":\"https://github.com/halolight\"},{\"text\":\"ğŸ“š Docs Repo\",\"link\":\"https://github.com/halolight/docs\"},{\"text\":\"ğŸŸ¦ Next.js Repo\",\"link\":\"https://github.com/halolight/halolight\"},{\"text\":\"ğŸ’š Vue Repo\",\"link\":\"https://github.com/halolight/halolight-vue\"}]}],\"sidebar\":{\"/en/guide/\":[{\"text\":\"Getting Started\",\"collapsed\":false,\"items\":[{\"text\":\"ğŸ“– Introduction\",\"link\":\"/en/guide/\"},{\"text\":\"ğŸš€ Quick Start\",\"link\":\"/en/guide/getting-started\"},{\"text\":\"ğŸ”€ Architecture Combinations\",\"link\":\"/en/guide/combinations\"}]},{\"text\":\"Framework Versions\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸŸ¦ Next.js\",\"link\":\"/en/guide/nextjs\"},{\"text\":\"âš›ï¸ React\",\"link\":\"/en/guide/react\"},{\"text\":\"ğŸ’š Vue\",\"link\":\"/en/guide/vue\"},{\"text\":\"ğŸ”º Angular\",\"link\":\"/en/guide/angular\"},{\"text\":\"ğŸŒ¿ Nuxt\",\"link\":\"/en/guide/nuxt\"},{\"text\":\"ğŸ§¡ SvelteKit\",\"link\":\"/en/guide/sveltekit\"},{\"text\":\"ğŸª Astro\",\"link\":\"/en/guide/astro\"},{\"text\":\"ğŸ’  Solid.js\",\"link\":\"/en/guide/solidjs\"},{\"text\":\"âš¡ Qwik\",\"link\":\"/en/guide/qwik\"},{\"text\":\"ğŸ¸ Remix\",\"link\":\"/en/guide/remix\"},{\"text\":\"ğŸª¶ Preact\",\"link\":\"/en/guide/preact\"},{\"text\":\"ğŸ”¥ Lit\",\"link\":\"/en/guide/lit\"},{\"text\":\"ğŸ¦– Fresh (Deno)\",\"link\":\"/en/guide/fresh\"}]},{\"text\":\"Backend Services\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¦• Deno + Hono\",\"link\":\"/en/guide/deno\"},{\"text\":\"ğŸ¹ Go API\",\"link\":\"/en/guide/api-go\"},{\"text\":\"ğŸŸ© Node.js API\",\"link\":\"/en/guide/api-node\"},{\"text\":\"ğŸ—ï¸ NestJS API\",\"link\":\"/en/guide/api-nestjs\"},{\"text\":\"ğŸ Python FastAPI\",\"link\":\"/en/guide/api-python\"},{\"text\":\"â˜• Java Spring Boot\",\"link\":\"/en/guide/api-java\"},{\"text\":\"ğŸ Bun + Hono\",\"link\":\"/en/guide/api-bun\"},{\"text\":\"ğŸ˜ PHP Laravel\",\"link\":\"/en/guide/api-php\"},{\"text\":\"ğŸ”— tRPC BFF\",\"link\":\"/en/guide/bff\"},{\"text\":\"ğŸ› ï¸ Admin Panel\",\"link\":\"/en/guide/admin\"}]},{\"text\":\"Extensions\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¤– AI Assistant\",\"link\":\"/en/guide/ai\"},{\"text\":\"ğŸ¨ Web Components\",\"link\":\"/en/guide/ui\"},{\"text\":\"ğŸ”— Web3 Integration\",\"link\":\"/en/guide/web3\"},{\"text\":\"â° Check-in Scheduler\",\"link\":\"/en/guide/action\"}]},{\"text\":\"Deployment\",\"collapsed\":true,\"items\":[{\"text\":\"â˜ï¸ Cloudflare\",\"link\":\"/en/guide/cloudflare\"},{\"text\":\"â–² Vercel\",\"link\":\"/en/guide/vercel\"},{\"text\":\"ğŸ”· Netlify\",\"link\":\"/en/guide/netlify\"},{\"text\":\"ğŸ³ Docker\",\"link\":\"/en/guide/docker\"},{\"text\":\"ğŸš‚ Railway\",\"link\":\"/en/guide/railway\"},{\"text\":\"âœˆï¸ Fly.io\",\"link\":\"/en/guide/fly\"},{\"text\":\"â˜ï¸ Azure\",\"link\":\"/en/guide/azure\"},{\"text\":\"ğŸŸ  AWS\",\"link\":\"/en/guide/aws\"}]}],\"/en/development/\":[{\"text\":\"Development\",\"collapsed\":false,\"items\":[{\"text\":\"ğŸ“‹ Overview\",\"link\":\"/en/development/\"},{\"text\":\"ğŸŒ Ecosystem\",\"link\":\"/en/development/ecosystem\"},{\"text\":\"ğŸ—ï¸ Architecture\",\"link\":\"/en/development/architecture\"},{\"text\":\"ğŸ§© Components\",\"link\":\"/en/development/components\"},{\"text\":\"ğŸ“¦ State Management\",\"link\":\"/en/development/state-management\"},{\"text\":\"ğŸ”Œ API Patterns\",\"link\":\"/en/development/api-patterns\"},{\"text\":\"ğŸ” Authentication\",\"link\":\"/en/development/authentication\"},{\"text\":\"ğŸ“Š Dashboard\",\"link\":\"/en/development/dashboard\"},{\"text\":\"ğŸ¨ Theming\",\"link\":\"/en/development/theming\"},{\"text\":\"ğŸ“š Implementation Guide\",\"link\":\"/en/development/implementation-guide\"}]}]},\"outline\":{\"label\":\"On this page\",\"level\":[2,3]},\"docFooter\":{\"prev\":\"Previous\",\"next\":\"Next\"},\"lastUpdated\":{\"text\":\"Last updated\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"short\"}},\"editLink\":{\"pattern\":\"https://github.com/halolight/docs/edit/main/:path\",\"text\":\"Edit this page on GitHub\"},\"returnToTopLabel\":\"Back to top\",\"sidebarMenuLabel\":\"Menu\",\"darkModeSwitchLabel\":\"Theme\",\"lightModeSwitchTitle\":\"Switch to light mode\",\"darkModeSwitchTitle\":\"Switch to dark mode\"}}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>