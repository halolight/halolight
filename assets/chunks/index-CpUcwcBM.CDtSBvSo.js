import{d as nt,h as L,ax as $t,p as B,q,X as zt,b as Oe,c as D,x as lt,o as O,k as f,e as J,Y as Ve,j as r,r as Me,t as Pe,N as qe,F as Dt,Z as We,n as ee,v as Nt,a9 as Ht,$ as Lt,P as Ce}from"./framework.BuRUkFgc.js";import{Z as at,m as it,q as Be,P as jt,f as Yt,U as Re,Y as It,b as Vt,D as Xe,u as qt,I as ue,z as Wt}from"./theme.UrnYZ8Qw.js";var Rt=Object.defineProperty,Xt=Object.defineProperties,Ut=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,Ae=(d,u,w)=>u in d?Rt(d,u,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[u]=w,Ze=(d,u)=>{for(var w in u||(u={}))At.call(u,w)&&Ae(d,w,u[w]);if(Ue)for(var w of Ue(u))Zt.call(u,w)&&Ae(d,w,u[w]);return d},Je=(d,u)=>Xt(d,Ut(u)),W=(d,u,w)=>new Promise((l,V)=>{var T=k=>{try{j(w.next(k))}catch(U){V(U)}},y=k=>{try{j(w.throw(k))}catch(U){V(U)}},j=k=>k.done?l(k.value):Promise.resolve(k.value).then(T,y);j((w=w.apply(d,u)).next())});const Jt={class:"html-preview-frame__header"},Qt={class:"html-preview-frame__title"},Gt={class:"html-preview-frame__label"},Kt=["srcdoc"],eo=nt({__name:"HtmlPreviewFrame",props:{code:{},isDark:{type:Boolean},onClose:{type:Function},title:{}},setup(d){const u=d,{t:w}=it(),l=L(()=>{const T=u.code||"",y=T.trim().toLowerCase();if(y.startsWith("<!doctype")||y.startsWith("<html")||y.startsWith("<body"))return T;const j=u.isDark?"#020617":"#ffffff",k=u.isDark?"#e5e7eb":"#020617";return`<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        background-color: ${j};
        color: ${k};
      }
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'SF Pro Text', ui-sans-serif, sans-serif;
      }
    </style>
  </head>
  <body>
    ${T}
  </body>
</html>`});function V(T){var y;(T.key==="Escape"||T.key==="Esc")&&((y=u.onClose)==null||y.call(u))}return Nt(()=>{typeof window<"u"&&window.addEventListener("keydown",V)}),lt(()=>{typeof window<"u"&&window.removeEventListener("keydown",V)}),(T,y)=>(O(),Oe(Lt,{to:"body"},[r("div",{class:ee(["html-preview-frame__backdrop",{"html-preview-frame__backdrop--dark":u.isDark}]),onClick:y[2]||(y[2]=j=>{var k;return(k=u.onClose)==null?void 0:k.call(u)})},[r("div",{class:ee(["html-preview-frame",{"html-preview-frame--dark":u.isDark}]),onClick:y[1]||(y[1]=Ht(()=>{},["stop"]))},[r("div",Jt,[r("div",Qt,[y[3]||(y[3]=r("span",{class:"html-preview-frame__dot"},null,-1)),r("span",Gt,Pe(u.title||f(w)("common.preview")||"Preview"),1)]),r("button",{type:"button",class:ee(["html-preview-frame__close",{"html-preview-frame__close--dark":u.isDark}]),onClick:y[0]||(y[0]=j=>{var k;return(k=u.onClose)==null?void 0:k.call(u)})}," × ",2)]),r("iframe",{class:"html-preview-frame__iframe",sandbox:"allow-scripts allow-same-origin",srcdoc:l.value},null,8,Kt)],2)],2)]))}}),to=at(eo,[["__scopeId","data-v-3cf0ed56"]]),oo={key:0,class:"code-block-header flex justify-between items-center px-4 py-2.5 border-b border-gray-400/5",style:{color:"var(--vscode-editor-foreground)","background-color":"var(--vscode-editor-background)"}},no={class:"flex items-center space-x-2 flex-1 overflow-hidden"},lo=["innerHTML"],ao={class:"text-sm font-medium font-mono truncate"},io={class:"flex items-center space-x-2"},ro=["aria-pressed"],uo=["disabled"],so=["disabled"],co=["disabled"],vo=["aria-label"],mo={key:0,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},ho={key:1,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},po=["aria-pressed"],fo={key:0,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},wo={key:1,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},go=["aria-label"],yo={class:"code-loading-placeholder"},ko={class:"sr-only","aria-live":"polite",role:"status"},Qe="__markstreamMonacoPassiveTouch__",Ge=10,Ke=36,et=1,tt=0,ot=1.5,se=1,xo=nt({__name:"CodeBlockNode",props:{node:{},isDark:{type:Boolean},loading:{type:Boolean,default:!0},stream:{type:Boolean,default:!0},darkTheme:{default:void 0},lightTheme:{default:void 0},isShowPreview:{type:Boolean,default:!0},monacoOptions:{},enableFontSizeControl:{type:Boolean,default:!0},minWidth:{default:void 0},maxWidth:{default:void 0},themes:{},showHeader:{type:Boolean,default:!0},showCopyButton:{type:Boolean,default:!0},showExpandButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},showFontSizeButtons:{type:Boolean,default:!0},customId:{}},emits:["previewCode","copy"],setup(d,{emit:u}){var w;const l=d,V=u;typeof window<"u"&&T();function T(){var t;try{const e=window;if(e[Qe])return;const o=(t=window.Element)==null?void 0:t.prototype,n=o==null?void 0:o.addEventListener;if(!o||!n)return;o.addEventListener=function(a,i,s){return a==="touchstart"&&y(this,s)?n.call(this,a,i,j(s)):n.call(this,a,i,s)},e[Qe]=!0}catch{}}function y(t,e){if(!t)return!1;const o=t;return!(typeof o.closest!="function"||!o.closest(".monaco-editor, .monaco-diff-editor")||e&&typeof e=="object"&&"passive"in e)}function j(t){return t==null?{passive:!0}:typeof t=="boolean"?{capture:t,passive:!0}:typeof t=="object"?"passive"in t?t:Je(Ze({},t),{passive:!0}):{passive:!0}}const k=$t(),U=L(()=>{const t=k==null?void 0:k.vnode.props;return!!(t&&(t.onPreviewCode||t.onPreviewCode))}),{t:m}=it(),b=B(null),ce=B(null),A=B(!1),$=B(Be(l.node.language)),Q=L(()=>jt($.value)),M=B(!1),C=B(!1),te=B(!1),_e=B(!1),R=B(null);let de=0;const rt=Yt(),G=B(null),Y=B(typeof window>"u");typeof window<"u"&&q(()=>ce.value,t=>{var e;if((e=G.value)==null||e.destroy(),G.value=null,!t){Y.value=!1;return}const o=rt(t,{rootMargin:"400px"});G.value=o,Y.value=o.isVisible.value,o.whenVisible.then(()=>{Y.value=!0})},{immediate:!0}),zt(()=>{var t;(t=G.value)==null||t.destroy(),G.value=null});let I=null,oe=null,ve=()=>{},me=()=>{},ne=()=>null,N=()=>({getModel:()=>({getLineCount:()=>1}),getOption:()=>14,updateOptions:()=>{}}),z=()=>({getModel:()=>({getLineCount:()=>1}),getOption:()=>14,updateOptions:()=>{}}),le=()=>{},he=()=>{},ae=null,Ee=()=>{var t;return String((t=l.node.language)!=null?t:"plaintext")},pe=()=>W(null,null,function*(){});const _=L(()=>l.node.diff),fe=B(!1),ie=B(!1);typeof window<"u"&&W(null,null,function*(){try{const t=yield Wt();if(!t){fe.value=!0;return}const e=t.useMonaco,o=t.detectLanguage;if(typeof o=="function"&&(Ee=o),typeof e=="function"){const n=Ne();if(n&&l.themes&&Array.isArray(l.themes)&&!l.themes.includes(n))throw new Error("Preferred theme not in provided themes array");const a=e(Je(Ze({wordWrap:"on",wrappingIndent:"same",themes:l.themes,theme:n},l.monacoOptions||{}),{onThemeChange(){mt()}}));I=a.createEditor||I,oe=a.createDiffEditor||oe,ve=a.updateCode||ve,me=a.updateDiff||me,ne=a.getEditor||ne,N=a.getEditorView||N,z=a.getDiffEditorView||z,le=a.cleanupEditor||le,he=a.safeClean||a.cleanupEditor||he,pe=a.setTheme||pe,_e.value=!0,b.value&&(yield ke(b.value))}}catch{fe.value=!0}});const E=B(typeof((w=l.monacoOptions)==null?void 0:w.fontSize)=="number"?l.monacoOptions.fontSize:Number.NaN),v=B(E.value),ut=L(()=>{const t=E.value,e=v.value;return typeof t=="number"&&Number.isFinite(t)&&t>0&&typeof e=="number"&&Number.isFinite(e)&&e>0});function st(){try{const t=b.value;if(!t)return null;const e=t.querySelector(".view-lines .view-line");if(e){const o=Math.ceil(e.getBoundingClientRect().height);if(o>0)return o}}catch{}return null}function Fe(){var t,e,o,n,a;try{const i=_.value?(o=(e=(t=z())==null?void 0:t.getModifiedEditor)==null?void 0:e.call(t))!=null?o:z():N(),s=ne(),h=(n=s==null?void 0:s.EditorOption)==null?void 0:n.fontInfo;if(i&&h!=null){const x=(a=i.getOption)==null?void 0:a.call(i,h),c=x==null?void 0:x.fontSize;if(typeof c=="number"&&Number.isFinite(c)&&c>0)return c}}catch{}try{const i=b.value;if(i){const s=i.querySelector(".view-lines .view-line");if(s)try{if(typeof window<"u"&&typeof window.getComputedStyle=="function"){const h=window.getComputedStyle(s).fontSize,x=h&&h.match(/^(\d+(?:\.\d+)?)/);if(x)return Number.parseFloat(x[1])}}catch{}}}catch{}return null}function we(t){var e,o;try{const i=ne(),s=(e=i==null?void 0:i.EditorOption)==null?void 0:e.lineHeight;if(s!=null){const h=(o=t==null?void 0:t.getOption)==null?void 0:o.call(t,s);if(typeof h=="number"&&h>0)return h}}catch{}const n=st();if(n&&n>0)return n;const a=Number.isFinite(v.value)&&v.value>0?v.value:12;return Math.max(12,Math.round(a*1.35))}function ge(){var t;if(Number.isFinite(v.value)&&v.value>0&&Number.isFinite(E.value))return v.value;const e=Fe();return typeof((t=l.monacoOptions)==null?void 0:t.fontSize)=="number"?(E.value=l.monacoOptions.fontSize,v.value=l.monacoOptions.fontSize,v.value):e&&e>0?(E.value=e,v.value=e,e):(E.value=12,v.value=12,12)}function ct(){const t=ge(),e=Math.min(Ke,t+et);v.value=e}function dt(){const t=ge(),e=Math.max(Ge,t-et);v.value=e}function vt(){ge(),Number.isFinite(E.value)&&(v.value=E.value)}function Te(){var t,e,o,n,a,i,s,h,x,c,p,He,Le,je;try{const g=_.value?z():N();if(!g)return null;if(_.value&&g!=null&&g.getOriginalEditor&&g!=null&&g.getModifiedEditor){const P=(t=g.getOriginalEditor)==null?void 0:t.call(g),H=(e=g.getModifiedEditor)==null?void 0:e.call(g);(o=P==null?void 0:P.layout)==null||o.call(P),(n=H==null?void 0:H.layout)==null||n.call(H);const Ot=((a=P==null?void 0:P.getContentHeight)==null?void 0:a.call(P))||0,Pt=((i=H==null?void 0:H.getContentHeight)==null?void 0:i.call(H))||0,Ie=Math.max(Ot,Pt);if(Ie>0)return Math.ceil(Ie+se);const _t=((x=(h=(s=P==null?void 0:P.getModel)==null?void 0:s.call(P))==null?void 0:h.getLineCount)==null?void 0:x.call(h))||1,Et=((He=(p=(c=H==null?void 0:H.getModel)==null?void 0:c.call(H))==null?void 0:p.getLineCount)==null?void 0:He.call(p))||1,Ft=Math.max(_t,Et),Tt=Math.max(we(P),we(H));return Math.ceil(Ft*(Tt+ot)+tt+se)}else if(g!=null&&g.getContentHeight){(Le=g==null?void 0:g.layout)==null||Le.call(g);const P=g.getContentHeight();if(P>0)return Math.ceil(P+se)}const be=(je=g==null?void 0:g.getModel)==null?void 0:je.call(g);let Ye=1;be&&typeof be.getLineCount=="function"&&(Ye=be.getLineCount());const St=we(g);return Math.ceil(Ye*(St+ot)+tt+se)}catch{return null}}function mt(){var t,e,o;const n=b.value,a=ce.value;if(!n||!a)return;const i=n.querySelector(".monaco-editor")||n;let s=null;try{typeof window<"u"&&typeof window.getComputedStyle=="function"&&(s=window.getComputedStyle(i))}catch{s=null}const h=String((t=s==null?void 0:s.getPropertyValue("--vscode-editor-foreground"))!=null?t:""),x=String((e=s==null?void 0:s.getPropertyValue("--vscode-editor-background"))!=null?e:""),c=String((o=s==null?void 0:s.getPropertyValue("--vscode-editor-hoverHighlightBackground"))!=null?o:"");if(h&&x)return a.style.setProperty("--vscode-editor-foreground",h.trim()),a.style.setProperty("--vscode-editor-background",x.trim()),a.style.setProperty("--vscode-editor-selectionBackground",c.trim()),!0}function X(){try{const t=b.value;if(!t)return;const e=t.getBoundingClientRect(),o=window.scrollY+e.top,n=Te();if(n!=null&&n>0){const a=e.height;t.style.height=`${Math.ceil(n)}px`,t.style.maxHeight="none";const i=Math.ceil(n)-a;i!==0&&o<window.scrollY&&window.scrollBy(0,i)}}catch{}}function Z(){var t;try{const e=b.value;if(!e)return;const o=e.getBoundingClientRect(),n=window.scrollY+o.top,a=o.height,i=ht();if(de>0&&(de--,R.value!=null)){const c=Math.min(R.value,i);e.style.height=`${Math.ceil(c)}px`,e.style.maxHeight=`${Math.ceil(i)}px`,e.style.overflow="auto";const p=Math.ceil(c)-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p);return}const s=Te();if(s!=null&&s>0){const c=Math.min(s,i);e.style.height=`${Math.ceil(c)}px`,e.style.maxHeight=`${Math.ceil(i)}px`,e.style.overflow="auto";const p=Math.ceil(c)-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p);return}if(R.value!=null){const c=Math.min(R.value,i);e.style.height=`${Math.ceil(c)}px`,e.style.maxHeight=`${Math.ceil(i)}px`,e.style.overflow="auto";const p=Math.ceil(c)-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p);return}const h=Math.ceil(((t=e.getBoundingClientRect)==null?void 0:t.call(e).height)||0);if(h>0){const c=Math.min(h,i);e.style.height=`${Math.ceil(c)}px`,e.style.maxHeight=`${Math.ceil(i)}px`,e.style.overflow="auto";const p=Math.ceil(c)-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p);return}const x=Number.parseFloat(e.style.height);if(!Number.isNaN(x)&&x>0){const c=Math.ceil(Math.min(x,i));e.style.height=`${c}px`;const p=c-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p)}else{const c=Math.ceil(i);e.style.height=`${c}px`;const p=c-a;p!==0&&n<window.scrollY&&window.scrollBy(0,p)}e.style.maxHeight=`${Math.ceil(i)}px`,e.style.overflow="auto"}catch{}}function ht(){var t,e;const o=(e=(t=l.monacoOptions)==null?void 0:t.MAX_HEIGHT)!=null?e:500;if(typeof o=="number")return o;const n=String(o).match(/^(\d+(?:\.\d+)?)/);return n?Number.parseFloat(n[1]):500}const ye=L(()=>l.isShowPreview&&($.value==="html"||$.value==="svg")),K=L(()=>$.value==="mermaid");q(()=>l.node.language,t=>{$.value=Be(t)}),q(()=>l.node.code,t=>W(null,null,function*(){var e,o;if(l.stream!==!1){if($.value||($.value=Be(Ee(t))),I&&!te.value&&b.value)try{yield ke(b.value)}catch{}_.value?me(String((e=l.node.originalCode)!=null?e:""),String((o=l.node.updatedCode)!=null?o:""),Q.value):ve(t,Q.value),M.value&&ue(()=>X())}}));const pt=L(()=>{const t=$.value;return t?Re[t]||t.charAt(0).toUpperCase()+t.slice(1):Re[""]}),ft=L(()=>It($.value||"")),wt=L(()=>{const t={},e=a=>{if(a!=null)return typeof a=="number"?`${a}px`:String(a)},o=e(l.minWidth),n=e(l.maxWidth);return o&&(t.minWidth=o),n&&(t.maxWidth=n),t});function gt(){return W(this,null,function*(){try{typeof navigator<"u"&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function"&&(yield navigator.clipboard.writeText(l.node.code)),A.value=!0,V("copy",l.node.code),setTimeout(()=>{A.value=!1},1e3)}catch(t){console.error("复制失败:",t)}})}function $e(t){const e=t;return!e||e.disabled}function F(t,e,o="top"){if($e(t.currentTarget))return;const n=t,a=(n==null?void 0:n.clientX)!=null&&(n==null?void 0:n.clientY)!=null?{x:n.clientX,y:n.clientY}:void 0;Xe(t.currentTarget,e,o,!1,a,l.isDark)}function S(){qt()}function ze(t){if($e(t.currentTarget))return;const e=A.value?m("common.copied")||"Copied":m("common.copy")||"Copy",o=t,n=(o==null?void 0:o.clientX)!=null&&(o==null?void 0:o.clientY)!=null?{x:o.clientX,y:o.clientY}:void 0;Xe(t.currentTarget,e,"top",!1,n,l.isDark)}function yt(){M.value=!M.value;const t=_.value?z():N(),e=b.value;!t||!e||(M.value?(re(!0),e.style.maxHeight="none",e.style.overflow="visible",X()):(re(!1),e.style.overflow="auto",Z()))}function kt(){var t,e,o;if(C.value=!C.value,C.value){if(b.value){const n=Math.ceil(((e=(t=b.value).getBoundingClientRect)==null?void 0:e.call(t).height)||0);n>0&&(R.value=n)}re(!1)}else{M.value&&re(!0),b.value&&R.value!=null&&(b.value.style.height=`${R.value}px`);const n=_.value?z():N();try{(o=n==null?void 0:n.layout)==null||o.call(n)}catch{}de=2,ue(()=>{M.value?X():Z()})}}q(()=>v.value,(t,e)=>{const o=_.value?z():N();o&&typeof t=="number"&&Number.isFinite(t)&&t>0&&(o.updateOptions({fontSize:t}),M.value&&!C.value&&X())},{flush:"post",immediate:!1});function xt(){if(!ye.value)return;const t=$.value;if(U.value){const e=t==="html"?"text/html":"image/svg+xml",o=t==="html"?m("artifacts.htmlPreviewTitle")||"HTML Preview":m("artifacts.svgPreviewTitle")||"SVG Preview";V("previewCode",{node:l.node,artifactType:e,artifactTitle:o,id:`temp-${t}-${Date.now()}`});return}t==="html"&&(ie.value=!ie.value)}function re(t){var e,o;try{if(_.value){const n=z();(e=n==null?void 0:n.updateOptions)==null||e.call(n,{automaticLayout:t})}else{const n=N();(o=n==null?void 0:n.updateOptions)==null||o.call(n,{automaticLayout:t})}}catch{}}function bt(t){return W(this,null,function*(){var e,o,n;if(!I)return;_.value?(he(),oe?yield oe(t,String((e=l.node.originalCode)!=null?e:""),String((o=l.node.updatedCode)!=null?o:""),Q.value):yield I(t,l.node.code,Q.value)):yield I(t,l.node.code,Q.value);const a=_.value?z():N();if(typeof((n=l.monacoOptions)==null?void 0:n.fontSize)=="number")a==null||a.updateOptions({fontSize:l.monacoOptions.fontSize,automaticLayout:!1}),E.value=l.monacoOptions.fontSize,v.value=l.monacoOptions.fontSize;else{const i=Fe();i&&i>0?(E.value=i,v.value=i):(E.value=12,v.value=12)}!M.value&&!C.value&&Z(),l.loading===!1&&(yield Ce(),ue(()=>{M.value&&!C.value?X():C.value||Z()}))})}function ke(t){return I?ae||(te.value=!0,ae=W(null,null,function*(){yield bt(t)}).finally(()=>{ae=null}),ae):null}const De=q(()=>[b.value,K.value,_.value,l.stream,l.loading,_e.value,Y.value],t=>W(null,[t],function*([e,o,n,a,i,s,h]){if(!e||!I||!h||a===!1&&i!==!1)return;if(K.value){le(),De();return}const x=ke(e);x&&(yield x,De())})),Mt=q(()=>[l.darkTheme,l.lightTheme,te.value,Y.value],()=>{if(!(!te.value||!Y.value)){if(K.value)return Mt();Ct()}});function Ne(){return l.isDark?l.darkTheme:l.lightTheme}function Ct(){const t=Ne();t&&pe(t)}const Bt=q(()=>[l.monacoOptions,Y.value],()=>{var t,e;if(!I||!Y.value)return;if(K.value)return Bt();const o=_.value?z():N(),n=typeof((t=l.monacoOptions)==null?void 0:t.fontSize)=="number"?l.monacoOptions.fontSize:Number.isFinite(v.value)?v.value:void 0;typeof n=="number"&&Number.isFinite(n)&&n>0&&((e=o==null?void 0:o.updateOptions)==null||e.call(o,{fontSize:n})),M.value&&!C.value?X():C.value||Z()},{deep:!0}),xe=q(()=>[l.loading,Y.value],t=>W(null,[t],function*([e,o]){if(o){if(K.value){Ce(()=>{xe==null||xe()});return}e||(yield Ce(),ue(()=>{C.value||(M.value?X():Z()),xe()}))}}),{immediate:!0,flush:"post"});return lt(()=>{le()}),(t,e)=>fe.value?(O(),Oe(f(Vt),{key:0,node:d.node,loading:l.loading},null,8,["node","loading"])):(O(),D("div",{key:1,ref_key:"container",ref:ce,style:qe(wt.value),class:ee(["code-block-container my-4 rounded-lg border overflow-hidden shadow-sm",[l.isDark?"border-gray-700/30 bg-gray-900":"border-gray-200 bg-white",{"is-rendering":l.loading,"is-dark":l.isDark}]])},[l.showHeader?(O(),D("div",oo,[Me(t.$slots,"header-left",{},()=>[r("div",no,[r("span",{class:"icon-slot h-4 w-4 flex-shrink-0",innerHTML:ft.value},null,8,lo),r("span",ao,Pe(pt.value),1)])],!0),Me(t.$slots,"header-right",{},()=>[r("div",io,[r("button",{type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]","aria-pressed":C.value,onClick:kt,onMouseenter:e[0]||(e[0]=o=>F(o,C.value?f(m)("common.expand")||"Expand":f(m)("common.collapse")||"Collapse")),onFocus:e[1]||(e[1]=o=>F(o,C.value?f(m)("common.expand")||"Expand":f(m)("common.collapse")||"Collapse")),onMouseleave:S,onBlur:S},[(O(),D("svg",{style:qe({rotate:C.value?"0deg":"90deg"}),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},[...e[17]||(e[17]=[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m9 18l6-6l-6-6"},null,-1)])],4))],40,ro),l.showFontSizeButtons&&l.enableFontSizeControl?(O(),D(Dt,{key:0},[r("button",{type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]",disabled:Number.isFinite(v.value)?v.value<=Ge:!1,onClick:e[2]||(e[2]=o=>dt()),onMouseenter:e[3]||(e[3]=o=>F(o,f(m)("common.decrease")||"Decrease")),onFocus:e[4]||(e[4]=o=>F(o,f(m)("common.decrease")||"Decrease")),onMouseleave:S,onBlur:S},[...e[18]||(e[18]=[r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14"})],-1)])],40,uo),r("button",{type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]",disabled:!ut.value||v.value===E.value,onClick:e[5]||(e[5]=o=>vt()),onMouseenter:e[6]||(e[6]=o=>F(o,f(m)("common.reset")||"Reset")),onFocus:e[7]||(e[7]=o=>F(o,f(m)("common.reset")||"Reset")),onMouseleave:S,onBlur:S},[...e[19]||(e[19]=[r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},[r("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[r("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),r("path",{d:"M3 3v5h5"})])],-1)])],40,so),r("button",{type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]",disabled:Number.isFinite(v.value)?v.value>=Ke:!1,onClick:e[8]||(e[8]=o=>ct()),onMouseenter:e[9]||(e[9]=o=>F(o,f(m)("common.increase")||"Increase")),onFocus:e[10]||(e[10]=o=>F(o,f(m)("common.increase")||"Increase")),onMouseleave:S,onBlur:S},[...e[20]||(e[20]=[r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"w-3 h-3"},[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7-7v14"})],-1)])],40,co)],64)):J("",!0),l.showCopyButton?(O(),D("button",{key:1,type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]","aria-label":A.value?f(m)("common.copied")||"Copied":f(m)("common.copy")||"Copy",onClick:gt,onMouseenter:e[11]||(e[11]=o=>ze(o)),onFocus:e[12]||(e[12]=o=>ze(o)),onMouseleave:S,onBlur:S},[A.value?(O(),D("svg",ho,[...e[22]||(e[22]=[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 6L9 17l-5-5"},null,-1)])])):(O(),D("svg",mo,[...e[21]||(e[21]=[r("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[r("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),r("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])]))],40,vo)):J("",!0),l.showExpandButton?(O(),D("button",{key:2,type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]","aria-pressed":M.value,onClick:yt,onMouseenter:e[13]||(e[13]=o=>F(o,M.value?f(m)("common.collapse")||"Collapse":f(m)("common.expand")||"Expand")),onFocus:e[14]||(e[14]=o=>F(o,M.value?f(m)("common.collapse")||"Collapse":f(m)("common.expand")||"Expand")),onMouseleave:S,onBlur:S},[M.value?(O(),D("svg",fo,[...e[23]||(e[23]=[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 3h6v6m0-6l-7 7M3 21l7-7m-1 7H3v-6"},null,-1)])])):(O(),D("svg",wo,[...e[24]||(e[24]=[r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14 10l7-7m-1 7h-6V4M3 21l7-7m-6 0h6v6"},null,-1)])]))],40,po)):J("",!0),ye.value&&l.showPreviewButton?(O(),D("button",{key:3,type:"button",class:"code-action-btn p-2 text-xs rounded-md transition-colors hover:bg-[var(--vscode-editor-selectionBackground)]","aria-label":f(m)("common.preview")||"Preview",onClick:xt,onMouseenter:e[15]||(e[15]=o=>F(o,f(m)("common.preview")||"Preview")),onFocus:e[16]||(e[16]=o=>F(o,f(m)("common.preview")||"Preview")),onMouseleave:S,onBlur:S},[...e[25]||(e[25]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},[r("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[r("path",{d:"M23.628 7.41c-.12-1.172-.08-3.583-.9-4.233c-1.921-1.51-6.143-1.11-8.815-1.19c-3.481-.15-7.193.14-10.625.24a.34.34 0 0 0 0 .67c3.472-.05 7.074-.29 10.575-.09c2.471.15 6.653-.14 8.254 1.16c.4.33.41 2.732.49 3.582a42 42 0 0 1 .08 9.005a13.8 13.8 0 0 1-.45 3.001c-2.42 1.4-19.69 2.381-20.72.55a21 21 0 0 1-.65-4.632a41.5 41.5 0 0 1 .12-7.964c.08 0 7.334.33 12.586.24c2.331 0 4.682-.13 6.764-.21a.33.33 0 0 0 0-.66c-7.714-.16-12.897-.43-19.31.05c.11-1.38.48-3.922.38-4.002a.3.3 0 0 0-.42 0c-.37.41-.29 1.77-.36 2.251s-.14 1.07-.2 1.6a45 45 0 0 0-.36 8.645a21.8 21.8 0 0 0 .66 5.002c1.46 2.702 17.248 1.461 20.95.43c1.45-.4 1.69-.8 1.871-1.95c.575-3.809.602-7.68.08-11.496"}),r("path",{d:"M4.528 5.237a.84.84 0 0 0-.21-1c-.77-.41-1.71.39-1 1.1a.83.83 0 0 0 1.21-.1m2.632-.25c.14-.14.19-.84-.2-1c-.77-.41-1.71.39-1 1.09a.82.82 0 0 0 1.2-.09m2.88 0a.83.83 0 0 0-.21-1c-.77-.41-1.71.39-1 1.09a.82.82 0 0 0 1.21-.09m-4.29 8.735c0 .08.23 2.471.31 2.561a.371.371 0 0 0 .63-.14c0-.09 0 0 .15-1.72a10 10 0 0 0-.11-2.232a5.3 5.3 0 0 1-.26-1.37a.3.3 0 0 0-.54-.24a6.8 6.8 0 0 0-.2 2.33c-1.281-.38-1.121.13-1.131-.42a15 15 0 0 0-.19-1.93c-.16-.17-.36-.17-.51.14a20 20 0 0 0-.43 3.471c.04.773.18 1.536.42 2.272c.26.4.7.22.7-.1c0-.09-.16-.09 0-1.862c.06-1.18-.23-.3 1.16-.76m5.033-2.552c.32-.07.41-.28.39-.37c0-.55-3.322-.34-3.462-.24s-.2.18-.18.28s0 .11 0 .16a3.8 3.8 0 0 0 1.591.361v.82a15 15 0 0 0-.13 3.132c0 .2-.09.94.17 1.16a.34.34 0 0 0 .48 0c.125-.35.196-.718.21-1.09a8 8 0 0 0 .14-3.232c0-.13.05-.7-.1-.89a8 8 0 0 0 .89-.09m5.544-.181a.69.69 0 0 0-.89-.44a2.8 2.8 0 0 0-1.252 1.001a2.3 2.3 0 0 0-.41-.83a1 1 0 0 0-1.6.27a7 7 0 0 0-.35 2.07c0 .571 0 2.642.06 2.762c.14 1.09 1 .51.63.13a17.6 17.6 0 0 1 .38-3.962c.32-1.18.32.2.39.51s.11 1.081.73 1.081s.48-.93 1.401-1.78q.075 1.345 0 2.69a15 15 0 0 0 0 1.811a.34.34 0 0 0 .68 0q.112-.861.11-1.73a16.7 16.7 0 0 0 .12-3.582m1.441-.201c-.05.16-.3 3.002-.31 3.202a6.3 6.3 0 0 0 .21 1.741c.33 1 1.21 1.07 2.291.82a3.7 3.7 0 0 0 1.14-.23c.21-.22.10-.59-.41-.64q-.817.096-1.64.07c-.44-.07-.34 0-.67-4.442q.015-.185 0-.37a.316.316 0 0 0-.23-.38a.316.316 0 0 0-.38.23"})])],-1)])],40,go)):J("",!0)])],!0)])):J("",!0),Ve(r("div",{ref_key:"codeEditor",ref:b,class:ee(["code-editor-container",[d.stream?"":"code-height-placeholder"]])},null,2),[[We,!C.value&&(d.stream?!0:!d.loading)]]),ie.value&&!U.value&&ye.value&&$.value==="html"?(O(),Oe(to,{key:1,code:d.node.code,"is-dark":l.isDark,"on-close":()=>ie.value=!1},null,8,["code","is-dark","on-close"])):J("",!0),Ve(r("div",yo,[Me(t.$slots,"loading",{loading:d.loading,stream:d.stream},()=>[e[26]||(e[26]=r("div",{class:"loading-skeleton"},[r("div",{class:"skeleton-line"}),r("div",{class:"skeleton-line"}),r("div",{class:"skeleton-line short"})],-1))],!0)],512),[[We,!d.stream&&d.loading]]),r("span",ko,Pe(A.value?f(m)("common.copied")||"Copied":""),1)],6))}}),Se=at(xo,[["__scopeId","data-v-acbbd971"]]);Se.install=d=>{d.component(Se.__name,Se)};export{Se as default};
